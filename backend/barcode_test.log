2025-03-08 21:10:09,519 - __main__ - INFO - Starting detailed barcode search tests...

2025-03-08 21:10:09,520 - __main__ - INFO - 
===== Testing barcode: 8001505005707 =====
2025-03-08 21:10:09,794 - services.fatsecret_oauth2_service - WARNING - Credenziali FatSecret non trovate nelle variabili d'ambiente. Usando valori di default per debug.
2025-03-08 21:10:09,795 - __main__ - INFO - 
Testing FatSecret barcode: 8001505005707
2025-03-08 21:10:10,351 - services.fatsecret_oauth2_service - INFO - Parametri di ricerca barcode: {'method': 'food.find_id_for_barcode', 'barcode': '8001505005707', 'region': 'Italy', 'format': 'json'}
2025-03-08 21:10:10,857 - services.fatsecret_oauth2_service - INFO - Risposta API barcode - Status: 200
2025-03-08 21:10:10,859 - services.fatsecret_oauth2_service - INFO - Nessun risultato trovato per il codice a barre 8001505005707
2025-03-08 21:10:10,860 - __main__ - ERROR - Exception in FatSecret test: object NoneType can't be used in 'await' expression
2025-03-08 21:10:10,863 - __main__ - INFO - 
Testing OpenFoodFacts barcode: 8001505005707
2025-03-08 21:10:10,864 - openfoodfacts_service - INFO - Inizializzato OpenFoodFactsService con base URL: https://world.openfoodfacts.org
2025-03-08 21:10:10,864 - openfoodfacts_service - INFO - OpenFoodFacts: Ricerca per codice a barre: 8001505005707
2025-03-08 21:10:11,127 - openfoodfacts_service - INFO - OpenFoodFacts: Prodotto trovato per codice a barre: 8001505005707
2025-03-08 21:10:11,128 - __main__ - INFO - Time: 0.26 seconds
2025-03-08 21:10:11,128 - __main__ - INFO - Found food: Nocciolata
2025-03-08 21:10:11,134 - __main__ - INFO - 
Testing Hybrid barcode: 8001505005707
2025-03-08 21:10:11,134 - root - INFO - Ricerca alimento con codice a barre: 8001505005707
2025-03-08 21:10:11,134 - root - INFO - Risultati trovati in cache per codice a barre 8001505005707
2025-03-08 21:10:11,134 - __main__ - INFO - Time: 0.00 seconds
2025-03-08 21:10:11,134 - __main__ - INFO - Source: unknown
2025-03-08 21:10:11,135 - __main__ - INFO - Success: False
2025-03-08 21:10:11,135 - __main__ - INFO - Total results: 0
2025-03-08 21:10:11,135 - __main__ - INFO - No food details found
2025-03-08 21:10:11,135 - __main__ - INFO - 
Testing API endpoint for barcode: 8001505005707
2025-03-08 21:10:11,409 - __main__ - INFO - Status: 200
2025-03-08 21:10:11,409 - __main__ - INFO - Time: 0.27 seconds
2025-03-08 21:10:11,409 - __main__ - INFO - Source: unknown
2025-03-08 21:10:11,409 - __main__ - INFO - Success: False
2025-03-08 21:10:11,409 - __main__ - INFO - Total results: 0
2025-03-08 21:10:11,410 - __main__ - INFO - No food details found
2025-03-08 21:10:12,410 - __main__ - INFO - 
===== Testing barcode: 8076809513692 =====
2025-03-08 21:10:12,411 - __main__ - INFO - 
Testing FatSecret barcode: 8076809513692
2025-03-08 21:10:12,411 - services.fatsecret_oauth2_service - INFO - Parametri di ricerca barcode: {'method': 'food.find_id_for_barcode', 'barcode': '8076809513692', 'region': 'Italy', 'format': 'json'}
2025-03-08 21:10:12,869 - services.fatsecret_oauth2_service - INFO - Risposta API barcode - Status: 200
2025-03-08 21:10:12,871 - services.fatsecret_oauth2_service - INFO - Nessun risultato trovato per il codice a barre 8076809513692
2025-03-08 21:10:12,873 - __main__ - ERROR - Exception in FatSecret test: object NoneType can't be used in 'await' expression
2025-03-08 21:10:12,873 - __main__ - INFO - 
Testing OpenFoodFacts barcode: 8076809513692
2025-03-08 21:10:12,874 - openfoodfacts_service - INFO - Inizializzato OpenFoodFactsService con base URL: https://world.openfoodfacts.org
2025-03-08 21:10:12,875 - openfoodfacts_service - INFO - OpenFoodFacts: Ricerca per codice a barre: 8076809513692
2025-03-08 21:10:13,032 - openfoodfacts_service - INFO - OpenFoodFacts: Prodotto trovato per codice a barre: 8076809513692
2025-03-08 21:10:13,033 - __main__ - INFO - Time: 0.16 seconds
2025-03-08 21:10:13,033 - __main__ - INFO - Found food: Sauce napolitaine
2025-03-08 21:10:13,033 - __main__ - INFO - 
Testing Hybrid barcode: 8076809513692
2025-03-08 21:10:13,034 - root - INFO - Ricerca alimento con codice a barre: 8076809513692
2025-03-08 21:10:13,034 - root - INFO - Risultati trovati in cache per codice a barre 8076809513692
2025-03-08 21:10:13,034 - __main__ - INFO - Time: 0.00 seconds
2025-03-08 21:10:13,035 - __main__ - INFO - Source: unknown
2025-03-08 21:10:13,035 - __main__ - INFO - Success: False
2025-03-08 21:10:13,035 - __main__ - INFO - Total results: 0
2025-03-08 21:10:13,035 - __main__ - INFO - No food details found
2025-03-08 21:10:13,035 - __main__ - INFO - 
Testing API endpoint for barcode: 8076809513692
2025-03-08 21:10:13,308 - __main__ - INFO - Status: 200
2025-03-08 21:10:13,309 - __main__ - INFO - Time: 0.27 seconds
2025-03-08 21:10:13,309 - __main__ - INFO - Source: unknown
2025-03-08 21:10:13,309 - __main__ - INFO - Success: False
2025-03-08 21:10:13,309 - __main__ - INFO - Total results: 0
2025-03-08 21:10:13,310 - __main__ - INFO - No food details found
2025-03-08 21:10:14,310 - __main__ - INFO - 
===== Testing barcode: 8000500310427 =====
2025-03-08 21:10:14,311 - __main__ - INFO - 
Testing FatSecret barcode: 8000500310427
2025-03-08 21:10:14,312 - services.fatsecret_oauth2_service - INFO - Parametri di ricerca barcode: {'method': 'food.find_id_for_barcode', 'barcode': '8000500310427', 'region': 'Italy', 'format': 'json'}
2025-03-08 21:10:14,760 - services.fatsecret_oauth2_service - INFO - Risposta API barcode - Status: 200
2025-03-08 21:10:14,763 - services.fatsecret_oauth2_service - INFO - Nessun risultato trovato per il codice a barre 8000500310427
2025-03-08 21:10:14,765 - __main__ - ERROR - Exception in FatSecret test: object NoneType can't be used in 'await' expression
2025-03-08 21:10:14,766 - __main__ - INFO - 
Testing OpenFoodFacts barcode: 8000500310427
2025-03-08 21:10:14,767 - openfoodfacts_service - INFO - Inizializzato OpenFoodFactsService con base URL: https://world.openfoodfacts.org
2025-03-08 21:10:14,768 - openfoodfacts_service - INFO - OpenFoodFacts: Ricerca per codice a barre: 8000500310427
2025-03-08 21:10:14,989 - openfoodfacts_service - INFO - OpenFoodFacts: Prodotto trovato per codice a barre: 8000500310427
2025-03-08 21:10:14,990 - __main__ - INFO - Time: 0.22 seconds
2025-03-08 21:10:14,990 - __main__ - INFO - Found food: Biscuits croquants au coeur onctueux de Nutella®
2025-03-08 21:10:14,990 - __main__ - INFO - 
Testing Hybrid barcode: 8000500310427
2025-03-08 21:10:14,990 - root - INFO - Ricerca alimento con codice a barre: 8000500310427
2025-03-08 21:10:14,991 - root - INFO - Risultati trovati in cache per codice a barre 8000500310427
2025-03-08 21:10:14,991 - __main__ - INFO - Time: 0.00 seconds
2025-03-08 21:10:14,991 - __main__ - INFO - Source: unknown
2025-03-08 21:10:14,991 - __main__ - INFO - Success: False
2025-03-08 21:10:14,991 - __main__ - INFO - Total results: 0
2025-03-08 21:10:14,992 - __main__ - INFO - No food details found
2025-03-08 21:10:14,992 - __main__ - INFO - 
Testing API endpoint for barcode: 8000500310427
2025-03-08 21:10:15,263 - __main__ - INFO - Status: 200
2025-03-08 21:10:15,263 - __main__ - INFO - Time: 0.27 seconds
2025-03-08 21:10:15,263 - __main__ - INFO - Source: unknown
2025-03-08 21:10:15,263 - __main__ - INFO - Success: False
2025-03-08 21:10:15,263 - __main__ - INFO - Total results: 0
2025-03-08 21:10:15,263 - __main__ - INFO - No food details found
2025-03-08 21:10:16,264 - __main__ - INFO - 
===== Testing barcode: 5449000000996 =====
2025-03-08 21:10:16,267 - __main__ - INFO - 
Testing FatSecret barcode: 5449000000996
2025-03-08 21:10:16,269 - services.fatsecret_oauth2_service - INFO - Parametri di ricerca barcode: {'method': 'food.find_id_for_barcode', 'barcode': '5449000000996', 'region': 'Italy', 'format': 'json'}
2025-03-08 21:10:16,717 - services.fatsecret_oauth2_service - INFO - Risposta API barcode - Status: 200
2025-03-08 21:10:16,718 - services.fatsecret_oauth2_service - INFO - Nessun risultato trovato per il codice a barre 5449000000996
2025-03-08 21:10:16,719 - __main__ - ERROR - Exception in FatSecret test: object NoneType can't be used in 'await' expression
2025-03-08 21:10:16,720 - __main__ - INFO - 
Testing OpenFoodFacts barcode: 5449000000996
2025-03-08 21:10:16,720 - openfoodfacts_service - INFO - Inizializzato OpenFoodFactsService con base URL: https://world.openfoodfacts.org
2025-03-08 21:10:16,721 - openfoodfacts_service - INFO - OpenFoodFacts: Ricerca per codice a barre: 5449000000996
2025-03-08 21:10:16,959 - openfoodfacts_service - INFO - OpenFoodFacts: Prodotto trovato per codice a barre: 5449000000996
2025-03-08 21:10:16,960 - __main__ - INFO - Time: 0.24 seconds
2025-03-08 21:10:16,960 - __main__ - INFO - Found food: Coca-Cola 33cl
2025-03-08 21:10:16,960 - __main__ - INFO - 
Testing Hybrid barcode: 5449000000996
2025-03-08 21:10:16,960 - root - INFO - Ricerca alimento con codice a barre: 5449000000996
2025-03-08 21:10:16,966 - root - INFO - Risultati trovati in cache per codice a barre 5449000000996
2025-03-08 21:10:16,967 - __main__ - INFO - Time: 0.01 seconds
2025-03-08 21:10:16,967 - __main__ - INFO - Source: unknown
2025-03-08 21:10:16,967 - __main__ - INFO - Success: False
2025-03-08 21:10:16,967 - __main__ - INFO - Total results: 0
2025-03-08 21:10:16,967 - __main__ - INFO - No food details found
2025-03-08 21:10:16,967 - __main__ - INFO - 
Testing API endpoint for barcode: 5449000000996
2025-03-08 21:10:17,223 - __main__ - INFO - Status: 200
2025-03-08 21:10:17,224 - __main__ - INFO - Time: 0.26 seconds
2025-03-08 21:10:17,224 - __main__ - INFO - Source: unknown
2025-03-08 21:10:17,224 - __main__ - INFO - Success: False
2025-03-08 21:10:17,224 - __main__ - INFO - Total results: 0
2025-03-08 21:10:17,224 - __main__ - INFO - No food details found
2025-03-08 21:10:18,225 - __main__ - INFO - 
===== Testing barcode: 8000500033784 =====
2025-03-08 21:10:18,225 - __main__ - INFO - 
Testing FatSecret barcode: 8000500033784
2025-03-08 21:10:18,225 - services.fatsecret_oauth2_service - INFO - Parametri di ricerca barcode: {'method': 'food.find_id_for_barcode', 'barcode': '8000500033784', 'region': 'Italy', 'format': 'json'}
2025-03-08 21:10:18,677 - services.fatsecret_oauth2_service - INFO - Risposta API barcode - Status: 200
2025-03-08 21:10:18,678 - services.fatsecret_oauth2_service - INFO - Nessun risultato trovato per il codice a barre 8000500033784
2025-03-08 21:10:18,679 - __main__ - ERROR - Exception in FatSecret test: object NoneType can't be used in 'await' expression
2025-03-08 21:10:18,680 - __main__ - INFO - 
Testing OpenFoodFacts barcode: 8000500033784
2025-03-08 21:10:18,680 - openfoodfacts_service - INFO - Inizializzato OpenFoodFactsService con base URL: https://world.openfoodfacts.org
2025-03-08 21:10:18,681 - openfoodfacts_service - INFO - OpenFoodFacts: Ricerca per codice a barre: 8000500033784
2025-03-08 21:10:18,833 - openfoodfacts_service - ERROR - OpenFoodFacts: Prodotto non trovato per codice a barre: 8000500033784
2025-03-08 21:10:18,834 - __main__ - INFO - Time: 0.15 seconds
2025-03-08 21:10:18,834 - __main__ - INFO - No food found
2025-03-08 21:10:18,834 - __main__ - INFO - 
Testing Hybrid barcode: 8000500033784
2025-03-08 21:10:18,834 - root - INFO - Ricerca alimento con codice a barre: 8000500033784
2025-03-08 21:10:18,835 - services.fatsecret_oauth2_service - INFO - Parametri di ricerca barcode: {'method': 'food.find_id_for_barcode', 'barcode': '8000500033784', 'region': 'Italy', 'format': 'json'}
2025-03-08 21:10:19,289 - services.fatsecret_oauth2_service - INFO - Risposta API barcode - Status: 200
2025-03-08 21:10:19,289 - services.fatsecret_oauth2_service - INFO - Nessun risultato trovato per il codice a barre 8000500033784
2025-03-08 21:10:19,290 - root - ERROR - Errore nella ricerca dell'ID per codice a barre: object NoneType can't be used in 'await' expression
2025-03-08 21:10:19,290 - root - INFO - Nessun risultato trovato su FatSecret, provo con OpenFoodFacts per il codice a barre 8000500033784
2025-03-08 21:10:19,291 - openfoodfacts_service - INFO - Inizializzato OpenFoodFactsService con base URL: https://world.openfoodfacts.org
2025-03-08 21:10:19,291 - openfoodfacts_service - INFO - OpenFoodFacts: Ricerca per codice a barre: 8000500033784
2025-03-08 21:10:19,413 - openfoodfacts_service - ERROR - OpenFoodFacts: Prodotto non trovato per codice a barre: 8000500033784
2025-03-08 21:10:19,414 - root - INFO - Nessun risultato trovato per il codice a barre 8000500033784 su nessun servizio
2025-03-08 21:10:19,414 - __main__ - INFO - Time: 0.58 seconds
2025-03-08 21:10:19,414 - __main__ - INFO - Source: unknown
2025-03-08 21:10:19,414 - __main__ - INFO - Success: False
2025-03-08 21:10:19,414 - __main__ - INFO - Total results: 0
2025-03-08 21:10:19,415 - __main__ - INFO - No food details found
2025-03-08 21:10:19,415 - __main__ - INFO - 
Testing API endpoint for barcode: 8000500033784
2025-03-08 21:10:20,697 - __main__ - INFO - Status: 200
2025-03-08 21:10:20,698 - __main__ - INFO - Time: 1.28 seconds
2025-03-08 21:10:20,698 - __main__ - INFO - Source: unknown
2025-03-08 21:10:20,698 - __main__ - INFO - Success: False
2025-03-08 21:10:20,699 - __main__ - INFO - Total results: 0
2025-03-08 21:10:20,699 - __main__ - INFO - No food details found
2025-03-08 21:10:21,700 - __main__ - INFO - 
===== Testing barcode: 8001120000035 =====
2025-03-08 21:10:21,702 - __main__ - INFO - 
Testing FatSecret barcode: 8001120000035
2025-03-08 21:10:21,703 - services.fatsecret_oauth2_service - INFO - Parametri di ricerca barcode: {'method': 'food.find_id_for_barcode', 'barcode': '8001120000035', 'region': 'Italy', 'format': 'json'}
2025-03-08 21:10:22,127 - services.fatsecret_oauth2_service - INFO - Risposta API barcode - Status: 200
2025-03-08 21:10:22,128 - services.fatsecret_oauth2_service - INFO - Nessun risultato trovato per il codice a barre 8001120000035
2025-03-08 21:10:22,130 - __main__ - ERROR - Exception in FatSecret test: object NoneType can't be used in 'await' expression
2025-03-08 21:10:22,131 - __main__ - INFO - 
Testing OpenFoodFacts barcode: 8001120000035
2025-03-08 21:10:22,131 - openfoodfacts_service - INFO - Inizializzato OpenFoodFactsService con base URL: https://world.openfoodfacts.org
2025-03-08 21:10:22,132 - openfoodfacts_service - INFO - OpenFoodFacts: Ricerca per codice a barre: 8001120000035
2025-03-08 21:10:22,241 - openfoodfacts_service - ERROR - OpenFoodFacts: Prodotto non trovato per codice a barre: 8001120000035
2025-03-08 21:10:22,242 - __main__ - INFO - Time: 0.11 seconds
2025-03-08 21:10:22,243 - __main__ - INFO - No food found
2025-03-08 21:10:22,243 - __main__ - INFO - 
Testing Hybrid barcode: 8001120000035
2025-03-08 21:10:22,244 - root - INFO - Ricerca alimento con codice a barre: 8001120000035
2025-03-08 21:10:22,245 - services.fatsecret_oauth2_service - INFO - Parametri di ricerca barcode: {'method': 'food.find_id_for_barcode', 'barcode': '8001120000035', 'region': 'Italy', 'format': 'json'}
2025-03-08 21:10:22,718 - services.fatsecret_oauth2_service - INFO - Risposta API barcode - Status: 200
2025-03-08 21:10:22,720 - services.fatsecret_oauth2_service - INFO - Nessun risultato trovato per il codice a barre 8001120000035
2025-03-08 21:10:22,721 - root - ERROR - Errore nella ricerca dell'ID per codice a barre: object NoneType can't be used in 'await' expression
2025-03-08 21:10:22,722 - root - INFO - Nessun risultato trovato su FatSecret, provo con OpenFoodFacts per il codice a barre 8001120000035
2025-03-08 21:10:22,722 - openfoodfacts_service - INFO - Inizializzato OpenFoodFactsService con base URL: https://world.openfoodfacts.org
2025-03-08 21:10:22,723 - openfoodfacts_service - INFO - OpenFoodFacts: Ricerca per codice a barre: 8001120000035
2025-03-08 21:10:22,805 - openfoodfacts_service - ERROR - OpenFoodFacts: Prodotto non trovato per codice a barre: 8001120000035
2025-03-08 21:10:22,806 - root - INFO - Nessun risultato trovato per il codice a barre 8001120000035 su nessun servizio
2025-03-08 21:10:22,807 - __main__ - INFO - Time: 0.56 seconds
2025-03-08 21:10:22,808 - __main__ - INFO - Source: unknown
2025-03-08 21:10:22,808 - __main__ - INFO - Success: False
2025-03-08 21:10:22,809 - __main__ - INFO - Total results: 0
2025-03-08 21:10:22,809 - __main__ - INFO - No food details found
2025-03-08 21:10:22,809 - __main__ - INFO - 
Testing API endpoint for barcode: 8001120000035
2025-03-08 21:10:23,607 - __main__ - INFO - Status: 200
2025-03-08 21:10:23,608 - __main__ - INFO - Time: 0.80 seconds
2025-03-08 21:10:23,608 - __main__ - INFO - Source: unknown
2025-03-08 21:10:23,608 - __main__ - INFO - Success: False
2025-03-08 21:10:23,609 - __main__ - INFO - Total results: 0
2025-03-08 21:10:23,609 - __main__ - INFO - No food details found
2025-03-08 21:10:24,610 - __main__ - INFO - 
===== Testing barcode: 1234567890123 =====
2025-03-08 21:10:24,612 - __main__ - INFO - 
Testing FatSecret barcode: 1234567890123
2025-03-08 21:10:24,613 - services.fatsecret_oauth2_service - INFO - Parametri di ricerca barcode: {'method': 'food.find_id_for_barcode', 'barcode': '1234567890123', 'region': 'Italy', 'format': 'json'}
2025-03-08 21:10:25,086 - services.fatsecret_oauth2_service - INFO - Risposta API barcode - Status: 200
2025-03-08 21:10:25,088 - services.fatsecret_oauth2_service - INFO - Nessun risultato trovato per il codice a barre 1234567890123
2025-03-08 21:10:25,089 - __main__ - ERROR - Exception in FatSecret test: object NoneType can't be used in 'await' expression
2025-03-08 21:10:25,090 - __main__ - INFO - 
Testing OpenFoodFacts barcode: 1234567890123
2025-03-08 21:10:25,091 - openfoodfacts_service - INFO - Inizializzato OpenFoodFactsService con base URL: https://world.openfoodfacts.org
2025-03-08 21:10:25,091 - openfoodfacts_service - INFO - OpenFoodFacts: Ricerca per codice a barre: 1234567890123
2025-03-08 21:10:25,252 - openfoodfacts_service - INFO - OpenFoodFacts: Prodotto trovato per codice a barre: 1234567890123
2025-03-08 21:10:25,253 - __main__ - INFO - Time: 0.16 seconds
2025-03-08 21:10:25,254 - __main__ - INFO - Found food: Test
2025-03-08 21:10:25,254 - __main__ - INFO - 
Testing Hybrid barcode: 1234567890123
2025-03-08 21:10:25,254 - root - INFO - Ricerca alimento con codice a barre: 1234567890123
2025-03-08 21:10:25,255 - root - INFO - Risultati trovati in cache per codice a barre 1234567890123
2025-03-08 21:10:25,255 - __main__ - INFO - Time: 0.00 seconds
2025-03-08 21:10:25,255 - __main__ - INFO - Source: unknown
2025-03-08 21:10:25,255 - __main__ - INFO - Success: False
2025-03-08 21:10:25,255 - __main__ - INFO - Total results: 0
2025-03-08 21:10:25,255 - __main__ - INFO - No food details found
2025-03-08 21:10:25,256 - __main__ - INFO - 
Testing API endpoint for barcode: 1234567890123
2025-03-08 21:10:25,526 - __main__ - INFO - Status: 200
2025-03-08 21:10:25,527 - __main__ - INFO - Time: 0.27 seconds
2025-03-08 21:10:25,527 - __main__ - INFO - Source: unknown
2025-03-08 21:10:25,527 - __main__ - INFO - Success: False
2025-03-08 21:10:25,527 - __main__ - INFO - Total results: 0
2025-03-08 21:10:25,528 - __main__ - INFO - No food details found
2025-03-08 21:10:26,529 - __main__ - INFO - 
===== Test Summary =====
2025-03-08 21:10:26,531 - __main__ - INFO - 
Barcode: 8001505005707
2025-03-08 21:10:26,533 - __main__ - INFO - FatSecret: Failed
2025-03-08 21:10:26,534 - __main__ - INFO - OpenFoodFacts: Success
2025-03-08 21:10:26,535 - __main__ - INFO - Hybrid Service: Failed
2025-03-08 21:10:26,536 - __main__ - INFO - API Endpoint: Failed
2025-03-08 21:10:26,537 - __main__ - INFO - 
Barcode: 8076809513692
2025-03-08 21:10:26,538 - __main__ - INFO - FatSecret: Failed
2025-03-08 21:10:26,538 - __main__ - INFO - OpenFoodFacts: Success
2025-03-08 21:10:26,538 - __main__ - INFO - Hybrid Service: Failed
2025-03-08 21:10:26,539 - __main__ - INFO - API Endpoint: Failed
2025-03-08 21:10:26,539 - __main__ - INFO - 
Barcode: 8000500310427
2025-03-08 21:10:26,540 - __main__ - INFO - FatSecret: Failed
2025-03-08 21:10:26,540 - __main__ - INFO - OpenFoodFacts: Success
2025-03-08 21:10:26,540 - __main__ - INFO - Hybrid Service: Failed
2025-03-08 21:10:26,540 - __main__ - INFO - API Endpoint: Failed
2025-03-08 21:10:26,541 - __main__ - INFO - 
Barcode: 5449000000996
2025-03-08 21:10:26,542 - __main__ - INFO - FatSecret: Failed
2025-03-08 21:10:26,542 - __main__ - INFO - OpenFoodFacts: Success
2025-03-08 21:10:26,542 - __main__ - INFO - Hybrid Service: Failed
2025-03-08 21:10:26,543 - __main__ - INFO - API Endpoint: Failed
2025-03-08 21:10:26,543 - __main__ - INFO - 
Barcode: 8000500033784
2025-03-08 21:10:26,543 - __main__ - INFO - FatSecret: Failed
2025-03-08 21:10:26,543 - __main__ - INFO - OpenFoodFacts: Failed
2025-03-08 21:10:26,543 - __main__ - INFO - Hybrid Service: Failed
2025-03-08 21:10:26,544 - __main__ - INFO - API Endpoint: Failed
2025-03-08 21:10:26,544 - __main__ - INFO - 
Barcode: 8001120000035
2025-03-08 21:10:26,544 - __main__ - INFO - FatSecret: Failed
2025-03-08 21:10:26,544 - __main__ - INFO - OpenFoodFacts: Failed
2025-03-08 21:10:26,544 - __main__ - INFO - Hybrid Service: Failed
2025-03-08 21:10:26,544 - __main__ - INFO - API Endpoint: Failed
2025-03-08 21:10:26,544 - __main__ - INFO - 
Barcode: 1234567890123
2025-03-08 21:10:26,544 - __main__ - INFO - FatSecret: Failed
2025-03-08 21:10:26,544 - __main__ - INFO - OpenFoodFacts: Success
2025-03-08 21:10:26,545 - __main__ - INFO - Hybrid Service: Failed
2025-03-08 21:10:26,545 - __main__ - INFO - API Endpoint: Failed
2025-03-08 21:10:26,545 - __main__ - INFO - 
Test completed!
2025-03-08 21:12:57,338 - __main__ - INFO - Starting detailed barcode search tests...

2025-03-08 21:12:57,338 - __main__ - INFO - 
===== Testing barcode: 8001505005707 =====
2025-03-08 21:12:57,606 - services.fatsecret_oauth2_service - WARNING - Credenziali FatSecret non trovate nelle variabili d'ambiente. Usando valori di default per debug.
2025-03-08 21:12:57,606 - __main__ - INFO - 
Testing FatSecret barcode: 8001505005707
2025-03-08 21:12:58,102 - services.fatsecret_oauth2_service - INFO - Parametri di ricerca barcode: {'method': 'food.find_id_for_barcode', 'barcode': '8001505005707', 'region': 'Italy', 'format': 'json'}
2025-03-08 21:12:58,567 - services.fatsecret_oauth2_service - INFO - Risposta API barcode - Status: 200
2025-03-08 21:12:58,568 - services.fatsecret_oauth2_service - INFO - Nessun risultato trovato per il codice a barre 8001505005707
2025-03-08 21:12:58,569 - __main__ - ERROR - Exception in FatSecret test: object NoneType can't be used in 'await' expression
2025-03-08 21:12:58,572 - __main__ - INFO - 
Testing OpenFoodFacts barcode: 8001505005707
2025-03-08 21:12:58,572 - openfoodfacts_service - INFO - Inizializzato OpenFoodFactsService con base URL: https://world.openfoodfacts.org
2025-03-08 21:12:58,572 - openfoodfacts_service - INFO - OpenFoodFacts: Ricerca per codice a barre: 8001505005707
2025-03-08 21:12:58,762 - openfoodfacts_service - INFO - OpenFoodFacts: Prodotto trovato per codice a barre: 8001505005707
2025-03-08 21:12:58,762 - __main__ - INFO - Time: 0.19 seconds
2025-03-08 21:12:58,762 - __main__ - INFO - Found food: Nocciolata
2025-03-08 21:12:58,769 - __main__ - INFO - 
Testing Hybrid barcode: 8001505005707
2025-03-08 21:12:58,769 - root - INFO - Ricerca alimento con codice a barre: 8001505005707
2025-03-08 21:12:58,770 - root - INFO - Risultati trovati in cache per codice a barre 8001505005707
2025-03-08 21:12:58,770 - __main__ - INFO - Time: 0.00 seconds
2025-03-08 21:12:58,770 - __main__ - INFO - Source: openfoodfacts
2025-03-08 21:12:58,770 - __main__ - INFO - Success: True
2025-03-08 21:12:58,770 - __main__ - INFO - Total results: 1
2025-03-08 21:12:58,771 - __main__ - INFO - Food name: Nocciolata
2025-03-08 21:12:58,771 - __main__ - INFO - Brand: Rigoni di Asiago
2025-03-08 21:12:58,771 - __main__ - INFO - 
Testing API endpoint for barcode: 8001505005707
2025-03-08 21:12:59,035 - __main__ - INFO - Status: 200
2025-03-08 21:12:59,035 - __main__ - INFO - Time: 0.26 seconds
2025-03-08 21:12:59,035 - __main__ - INFO - Source: openfoodfacts
2025-03-08 21:12:59,035 - __main__ - INFO - Success: True
2025-03-08 21:12:59,035 - __main__ - INFO - Total results: 1
2025-03-08 21:12:59,035 - __main__ - INFO - Food name: Nocciolata
2025-03-08 21:12:59,036 - __main__ - INFO - Brand: Rigoni di Asiago
2025-03-08 21:13:00,036 - __main__ - INFO - 
===== Testing barcode: 8076809513692 =====
2025-03-08 21:13:00,037 - __main__ - INFO - 
Testing FatSecret barcode: 8076809513692
2025-03-08 21:13:00,037 - services.fatsecret_oauth2_service - INFO - Parametri di ricerca barcode: {'method': 'food.find_id_for_barcode', 'barcode': '8076809513692', 'region': 'Italy', 'format': 'json'}
2025-03-08 21:13:00,469 - services.fatsecret_oauth2_service - INFO - Risposta API barcode - Status: 200
2025-03-08 21:13:00,471 - services.fatsecret_oauth2_service - INFO - Nessun risultato trovato per il codice a barre 8076809513692
2025-03-08 21:13:00,473 - __main__ - ERROR - Exception in FatSecret test: object NoneType can't be used in 'await' expression
2025-03-08 21:13:00,474 - __main__ - INFO - 
Testing OpenFoodFacts barcode: 8076809513692
2025-03-08 21:13:00,475 - openfoodfacts_service - INFO - Inizializzato OpenFoodFactsService con base URL: https://world.openfoodfacts.org
2025-03-08 21:13:00,476 - openfoodfacts_service - INFO - OpenFoodFacts: Ricerca per codice a barre: 8076809513692
2025-03-08 21:13:00,708 - openfoodfacts_service - INFO - OpenFoodFacts: Prodotto trovato per codice a barre: 8076809513692
2025-03-08 21:13:00,709 - __main__ - INFO - Time: 0.23 seconds
2025-03-08 21:13:00,709 - __main__ - INFO - Found food: Sauce napolitaine
2025-03-08 21:13:00,709 - __main__ - INFO - 
Testing Hybrid barcode: 8076809513692
2025-03-08 21:13:00,709 - root - INFO - Ricerca alimento con codice a barre: 8076809513692
2025-03-08 21:13:00,710 - root - INFO - Risultati trovati in cache per codice a barre 8076809513692
2025-03-08 21:13:00,710 - __main__ - INFO - Time: 0.00 seconds
2025-03-08 21:13:00,710 - __main__ - INFO - Source: openfoodfacts
2025-03-08 21:13:00,710 - __main__ - INFO - Success: True
2025-03-08 21:13:00,710 - __main__ - INFO - Total results: 1
2025-03-08 21:13:00,710 - __main__ - INFO - Food name: Sauce napolitaine
2025-03-08 21:13:00,711 - __main__ - INFO - Brand: Barilla
2025-03-08 21:13:00,711 - __main__ - INFO - 
Testing API endpoint for barcode: 8076809513692
2025-03-08 21:13:00,984 - __main__ - INFO - Status: 200
2025-03-08 21:13:00,985 - __main__ - INFO - Time: 0.27 seconds
2025-03-08 21:13:00,985 - __main__ - INFO - Source: openfoodfacts
2025-03-08 21:13:00,985 - __main__ - INFO - Success: True
2025-03-08 21:13:00,985 - __main__ - INFO - Total results: 1
2025-03-08 21:13:00,985 - __main__ - INFO - Food name: Sauce napolitaine
2025-03-08 21:13:00,986 - __main__ - INFO - Brand: Barilla
2025-03-08 21:13:01,986 - __main__ - INFO - 
===== Testing barcode: 8000500310427 =====
2025-03-08 21:13:01,987 - __main__ - INFO - 
Testing FatSecret barcode: 8000500310427
2025-03-08 21:13:01,987 - services.fatsecret_oauth2_service - INFO - Parametri di ricerca barcode: {'method': 'food.find_id_for_barcode', 'barcode': '8000500310427', 'region': 'Italy', 'format': 'json'}
2025-03-08 21:13:02,430 - services.fatsecret_oauth2_service - INFO - Risposta API barcode - Status: 200
2025-03-08 21:13:02,431 - services.fatsecret_oauth2_service - INFO - Nessun risultato trovato per il codice a barre 8000500310427
2025-03-08 21:13:02,433 - __main__ - ERROR - Exception in FatSecret test: object NoneType can't be used in 'await' expression
2025-03-08 21:13:02,434 - __main__ - INFO - 
Testing OpenFoodFacts barcode: 8000500310427
2025-03-08 21:13:02,434 - openfoodfacts_service - INFO - Inizializzato OpenFoodFactsService con base URL: https://world.openfoodfacts.org
2025-03-08 21:13:02,435 - openfoodfacts_service - INFO - OpenFoodFacts: Ricerca per codice a barre: 8000500310427
2025-03-08 21:13:02,644 - openfoodfacts_service - INFO - OpenFoodFacts: Prodotto trovato per codice a barre: 8000500310427
2025-03-08 21:13:02,645 - __main__ - INFO - Time: 0.21 seconds
2025-03-08 21:13:02,645 - __main__ - INFO - Found food: Biscuits croquants au coeur onctueux de Nutella®
2025-03-08 21:13:02,645 - __main__ - INFO - 
Testing Hybrid barcode: 8000500310427
2025-03-08 21:13:02,645 - root - INFO - Ricerca alimento con codice a barre: 8000500310427
2025-03-08 21:13:02,646 - root - INFO - Risultati trovati in cache per codice a barre 8000500310427
2025-03-08 21:13:02,646 - __main__ - INFO - Time: 0.00 seconds
2025-03-08 21:13:02,646 - __main__ - INFO - Source: openfoodfacts
2025-03-08 21:13:02,646 - __main__ - INFO - Success: True
2025-03-08 21:13:02,646 - __main__ - INFO - Total results: 1
2025-03-08 21:13:02,646 - __main__ - INFO - Food name: Biscuits croquants au coeur onctueux de Nutella®
2025-03-08 21:13:02,646 - __main__ - INFO - Brand: Nutella,Ferrero
2025-03-08 21:13:02,646 - __main__ - INFO - 
Testing API endpoint for barcode: 8000500310427
2025-03-08 21:13:02,909 - __main__ - INFO - Status: 200
2025-03-08 21:13:02,909 - __main__ - INFO - Time: 0.26 seconds
2025-03-08 21:13:02,909 - __main__ - INFO - Source: openfoodfacts
2025-03-08 21:13:02,909 - __main__ - INFO - Success: True
2025-03-08 21:13:02,910 - __main__ - INFO - Total results: 1
2025-03-08 21:13:02,910 - __main__ - INFO - Food name: Biscuits croquants au coeur onctueux de Nutella®
2025-03-08 21:13:02,910 - __main__ - INFO - Brand: Nutella,Ferrero
2025-03-08 21:13:03,910 - __main__ - INFO - 
===== Testing barcode: 5449000000996 =====
2025-03-08 21:13:03,911 - __main__ - INFO - 
Testing FatSecret barcode: 5449000000996
2025-03-08 21:13:03,911 - services.fatsecret_oauth2_service - INFO - Parametri di ricerca barcode: {'method': 'food.find_id_for_barcode', 'barcode': '5449000000996', 'region': 'Italy', 'format': 'json'}
2025-03-08 21:13:04,339 - services.fatsecret_oauth2_service - INFO - Risposta API barcode - Status: 200
2025-03-08 21:13:04,341 - services.fatsecret_oauth2_service - INFO - Nessun risultato trovato per il codice a barre 5449000000996
2025-03-08 21:13:04,344 - __main__ - ERROR - Exception in FatSecret test: object NoneType can't be used in 'await' expression
2025-03-08 21:13:04,345 - __main__ - INFO - 
Testing OpenFoodFacts barcode: 5449000000996
2025-03-08 21:13:04,345 - openfoodfacts_service - INFO - Inizializzato OpenFoodFactsService con base URL: https://world.openfoodfacts.org
2025-03-08 21:13:04,346 - openfoodfacts_service - INFO - OpenFoodFacts: Ricerca per codice a barre: 5449000000996
2025-03-08 21:13:04,532 - openfoodfacts_service - INFO - OpenFoodFacts: Prodotto trovato per codice a barre: 5449000000996
2025-03-08 21:13:04,533 - __main__ - INFO - Time: 0.19 seconds
2025-03-08 21:13:04,534 - __main__ - INFO - Found food: Coca-Cola 33cl
2025-03-08 21:13:04,534 - __main__ - INFO - 
Testing Hybrid barcode: 5449000000996
2025-03-08 21:13:04,534 - root - INFO - Ricerca alimento con codice a barre: 5449000000996
2025-03-08 21:13:04,534 - root - INFO - Risultati trovati in cache per codice a barre 5449000000996
2025-03-08 21:13:04,535 - __main__ - INFO - Time: 0.00 seconds
2025-03-08 21:13:04,535 - __main__ - INFO - Source: openfoodfacts
2025-03-08 21:13:04,535 - __main__ - INFO - Success: True
2025-03-08 21:13:04,535 - __main__ - INFO - Total results: 1
2025-03-08 21:13:04,535 - __main__ - INFO - Food name: Coca-Cola 33cl
2025-03-08 21:13:04,535 - __main__ - INFO - Brand: Coca-Cola
2025-03-08 21:13:04,535 - __main__ - INFO - 
Testing API endpoint for barcode: 5449000000996
2025-03-08 21:13:04,798 - __main__ - INFO - Status: 200
2025-03-08 21:13:04,798 - __main__ - INFO - Time: 0.26 seconds
2025-03-08 21:13:04,799 - __main__ - INFO - Source: openfoodfacts
2025-03-08 21:13:04,799 - __main__ - INFO - Success: True
2025-03-08 21:13:04,799 - __main__ - INFO - Total results: 1
2025-03-08 21:13:04,800 - __main__ - INFO - Food name: Coca-Cola 33cl
2025-03-08 21:13:04,800 - __main__ - INFO - Brand: Coca-Cola
2025-03-08 21:13:05,801 - __main__ - INFO - 
===== Testing barcode: 8000500033784 =====
2025-03-08 21:13:05,801 - __main__ - INFO - 
Testing FatSecret barcode: 8000500033784
2025-03-08 21:13:05,801 - services.fatsecret_oauth2_service - INFO - Parametri di ricerca barcode: {'method': 'food.find_id_for_barcode', 'barcode': '8000500033784', 'region': 'Italy', 'format': 'json'}
2025-03-08 21:13:06,244 - services.fatsecret_oauth2_service - INFO - Risposta API barcode - Status: 200
2025-03-08 21:13:06,245 - services.fatsecret_oauth2_service - INFO - Nessun risultato trovato per il codice a barre 8000500033784
2025-03-08 21:13:06,247 - __main__ - ERROR - Exception in FatSecret test: object NoneType can't be used in 'await' expression
2025-03-08 21:13:06,248 - __main__ - INFO - 
Testing OpenFoodFacts barcode: 8000500033784
2025-03-08 21:13:06,249 - openfoodfacts_service - INFO - Inizializzato OpenFoodFactsService con base URL: https://world.openfoodfacts.org
2025-03-08 21:13:06,250 - openfoodfacts_service - INFO - OpenFoodFacts: Ricerca per codice a barre: 8000500033784
2025-03-08 21:13:06,378 - openfoodfacts_service - ERROR - OpenFoodFacts: Prodotto non trovato per codice a barre: 8000500033784
2025-03-08 21:13:06,378 - __main__ - INFO - Time: 0.13 seconds
2025-03-08 21:13:06,379 - __main__ - INFO - No food found
2025-03-08 21:13:06,379 - __main__ - INFO - 
Testing Hybrid barcode: 8000500033784
2025-03-08 21:13:06,379 - root - INFO - Ricerca alimento con codice a barre: 8000500033784
2025-03-08 21:13:06,379 - services.fatsecret_oauth2_service - INFO - Parametri di ricerca barcode: {'method': 'food.find_id_for_barcode', 'barcode': '8000500033784', 'region': 'Italy', 'format': 'json'}
2025-03-08 21:13:06,850 - services.fatsecret_oauth2_service - INFO - Risposta API barcode - Status: 200
2025-03-08 21:13:06,851 - services.fatsecret_oauth2_service - INFO - Nessun risultato trovato per il codice a barre 8000500033784
2025-03-08 21:13:06,852 - root - ERROR - Errore nella ricerca dell'ID per codice a barre: object NoneType can't be used in 'await' expression
2025-03-08 21:13:06,852 - root - INFO - Nessun risultato trovato su FatSecret, provo con OpenFoodFacts per il codice a barre 8000500033784
2025-03-08 21:13:06,852 - openfoodfacts_service - INFO - Inizializzato OpenFoodFactsService con base URL: https://world.openfoodfacts.org
2025-03-08 21:13:06,853 - openfoodfacts_service - INFO - OpenFoodFacts: Ricerca per codice a barre: 8000500033784
2025-03-08 21:13:06,974 - openfoodfacts_service - ERROR - OpenFoodFacts: Prodotto non trovato per codice a barre: 8000500033784
2025-03-08 21:13:06,974 - root - INFO - Nessun risultato trovato per il codice a barre 8000500033784 su nessun servizio
2025-03-08 21:13:06,975 - __main__ - INFO - Time: 0.60 seconds
2025-03-08 21:13:06,975 - __main__ - INFO - Source: unknown
2025-03-08 21:13:06,975 - __main__ - INFO - Success: False
2025-03-08 21:13:06,975 - __main__ - INFO - Total results: 0
2025-03-08 21:13:06,975 - __main__ - INFO - No food details found
2025-03-08 21:13:06,975 - __main__ - INFO - 
Testing API endpoint for barcode: 8000500033784
2025-03-08 21:13:08,253 - __main__ - INFO - Status: 200
2025-03-08 21:13:08,253 - __main__ - INFO - Time: 1.28 seconds
2025-03-08 21:13:08,253 - __main__ - INFO - Source: unknown
2025-03-08 21:13:08,254 - __main__ - INFO - Success: False
2025-03-08 21:13:08,254 - __main__ - INFO - Total results: 0
2025-03-08 21:13:08,254 - __main__ - INFO - No food details found
2025-03-08 21:13:09,254 - __main__ - INFO - 
===== Testing barcode: 8001120000035 =====
2025-03-08 21:13:09,255 - __main__ - INFO - 
Testing FatSecret barcode: 8001120000035
2025-03-08 21:13:09,255 - services.fatsecret_oauth2_service - INFO - Parametri di ricerca barcode: {'method': 'food.find_id_for_barcode', 'barcode': '8001120000035', 'region': 'Italy', 'format': 'json'}
2025-03-08 21:13:09,719 - services.fatsecret_oauth2_service - INFO - Risposta API barcode - Status: 200
2025-03-08 21:13:09,720 - services.fatsecret_oauth2_service - INFO - Nessun risultato trovato per il codice a barre 8001120000035
2025-03-08 21:13:09,721 - __main__ - ERROR - Exception in FatSecret test: object NoneType can't be used in 'await' expression
2025-03-08 21:13:09,721 - __main__ - INFO - 
Testing OpenFoodFacts barcode: 8001120000035
2025-03-08 21:13:09,721 - openfoodfacts_service - INFO - Inizializzato OpenFoodFactsService con base URL: https://world.openfoodfacts.org
2025-03-08 21:13:09,722 - openfoodfacts_service - INFO - OpenFoodFacts: Ricerca per codice a barre: 8001120000035
2025-03-08 21:13:09,819 - openfoodfacts_service - ERROR - OpenFoodFacts: Prodotto non trovato per codice a barre: 8001120000035
2025-03-08 21:13:09,821 - __main__ - INFO - Time: 0.10 seconds
2025-03-08 21:13:09,822 - __main__ - INFO - No food found
2025-03-08 21:13:09,823 - __main__ - INFO - 
Testing Hybrid barcode: 8001120000035
2025-03-08 21:13:09,824 - root - INFO - Ricerca alimento con codice a barre: 8001120000035
2025-03-08 21:13:09,825 - services.fatsecret_oauth2_service - INFO - Parametri di ricerca barcode: {'method': 'food.find_id_for_barcode', 'barcode': '8001120000035', 'region': 'Italy', 'format': 'json'}
2025-03-08 21:13:10,272 - services.fatsecret_oauth2_service - INFO - Risposta API barcode - Status: 200
2025-03-08 21:13:10,273 - services.fatsecret_oauth2_service - INFO - Nessun risultato trovato per il codice a barre 8001120000035
2025-03-08 21:13:10,274 - root - ERROR - Errore nella ricerca dell'ID per codice a barre: object NoneType can't be used in 'await' expression
2025-03-08 21:13:10,274 - root - INFO - Nessun risultato trovato su FatSecret, provo con OpenFoodFacts per il codice a barre 8001120000035
2025-03-08 21:13:10,274 - openfoodfacts_service - INFO - Inizializzato OpenFoodFactsService con base URL: https://world.openfoodfacts.org
2025-03-08 21:13:10,274 - openfoodfacts_service - INFO - OpenFoodFacts: Ricerca per codice a barre: 8001120000035
2025-03-08 21:13:10,381 - openfoodfacts_service - ERROR - OpenFoodFacts: Prodotto non trovato per codice a barre: 8001120000035
2025-03-08 21:13:10,382 - root - INFO - Nessun risultato trovato per il codice a barre 8001120000035 su nessun servizio
2025-03-08 21:13:10,382 - __main__ - INFO - Time: 0.56 seconds
2025-03-08 21:13:10,382 - __main__ - INFO - Source: unknown
2025-03-08 21:13:10,383 - __main__ - INFO - Success: False
2025-03-08 21:13:10,383 - __main__ - INFO - Total results: 0
2025-03-08 21:13:10,383 - __main__ - INFO - No food details found
2025-03-08 21:13:10,383 - __main__ - INFO - 
Testing API endpoint for barcode: 8001120000035
2025-03-08 21:13:11,218 - __main__ - INFO - Status: 200
2025-03-08 21:13:11,218 - __main__ - INFO - Time: 0.83 seconds
2025-03-08 21:13:11,218 - __main__ - INFO - Source: unknown
2025-03-08 21:13:11,218 - __main__ - INFO - Success: False
2025-03-08 21:13:11,219 - __main__ - INFO - Total results: 0
2025-03-08 21:13:11,219 - __main__ - INFO - No food details found
2025-03-08 21:13:12,220 - __main__ - INFO - 
===== Testing barcode: 1234567890123 =====
2025-03-08 21:13:12,220 - __main__ - INFO - 
Testing FatSecret barcode: 1234567890123
2025-03-08 21:13:12,220 - services.fatsecret_oauth2_service - INFO - Parametri di ricerca barcode: {'method': 'food.find_id_for_barcode', 'barcode': '1234567890123', 'region': 'Italy', 'format': 'json'}
2025-03-08 21:13:12,663 - services.fatsecret_oauth2_service - INFO - Risposta API barcode - Status: 200
2025-03-08 21:13:12,663 - services.fatsecret_oauth2_service - INFO - Nessun risultato trovato per il codice a barre 1234567890123
2025-03-08 21:13:12,664 - __main__ - ERROR - Exception in FatSecret test: object NoneType can't be used in 'await' expression
2025-03-08 21:13:12,664 - __main__ - INFO - 
Testing OpenFoodFacts barcode: 1234567890123
2025-03-08 21:13:12,664 - openfoodfacts_service - INFO - Inizializzato OpenFoodFactsService con base URL: https://world.openfoodfacts.org
2025-03-08 21:13:12,664 - openfoodfacts_service - INFO - OpenFoodFacts: Ricerca per codice a barre: 1234567890123
2025-03-08 21:13:12,855 - openfoodfacts_service - INFO - OpenFoodFacts: Prodotto trovato per codice a barre: 1234567890123
2025-03-08 21:13:12,856 - __main__ - INFO - Time: 0.19 seconds
2025-03-08 21:13:12,856 - __main__ - INFO - Found food: Test
2025-03-08 21:13:12,856 - __main__ - INFO - 
Testing Hybrid barcode: 1234567890123
2025-03-08 21:13:12,856 - root - INFO - Ricerca alimento con codice a barre: 1234567890123
2025-03-08 21:13:12,857 - root - INFO - Risultati trovati in cache per codice a barre 1234567890123
2025-03-08 21:13:12,857 - __main__ - INFO - Time: 0.00 seconds
2025-03-08 21:13:12,857 - __main__ - INFO - Source: openfoodfacts
2025-03-08 21:13:12,857 - __main__ - INFO - Success: True
2025-03-08 21:13:12,857 - __main__ - INFO - Total results: 1
2025-03-08 21:13:12,857 - __main__ - INFO - Food name: Test
2025-03-08 21:13:12,857 - __main__ - INFO - Brand: Nature Foods
2025-03-08 21:13:12,857 - __main__ - INFO - 
Testing API endpoint for barcode: 1234567890123
2025-03-08 21:13:13,127 - __main__ - INFO - Status: 200
2025-03-08 21:13:13,127 - __main__ - INFO - Time: 0.27 seconds
2025-03-08 21:13:13,127 - __main__ - INFO - Source: openfoodfacts
2025-03-08 21:13:13,127 - __main__ - INFO - Success: True
2025-03-08 21:13:13,128 - __main__ - INFO - Total results: 1
2025-03-08 21:13:13,128 - __main__ - INFO - Food name: Test
2025-03-08 21:13:13,128 - __main__ - INFO - Brand: Nature Foods
2025-03-08 21:13:14,129 - __main__ - INFO - 
===== Test Summary =====
2025-03-08 21:13:14,129 - __main__ - INFO - 
Barcode: 8001505005707
2025-03-08 21:13:14,129 - __main__ - INFO - FatSecret: Failed
2025-03-08 21:13:14,130 - __main__ - INFO - OpenFoodFacts: Success
2025-03-08 21:13:14,130 - __main__ - INFO - Hybrid Service: Success
2025-03-08 21:13:14,130 - __main__ - INFO - API Endpoint: Success
2025-03-08 21:13:14,130 - __main__ - INFO - 
Barcode: 8076809513692
2025-03-08 21:13:14,130 - __main__ - INFO - FatSecret: Failed
2025-03-08 21:13:14,130 - __main__ - INFO - OpenFoodFacts: Success
2025-03-08 21:13:14,130 - __main__ - INFO - Hybrid Service: Success
2025-03-08 21:13:14,130 - __main__ - INFO - API Endpoint: Success
2025-03-08 21:13:14,130 - __main__ - INFO - 
Barcode: 8000500310427
2025-03-08 21:13:14,131 - __main__ - INFO - FatSecret: Failed
2025-03-08 21:13:14,131 - __main__ - INFO - OpenFoodFacts: Success
2025-03-08 21:13:14,131 - __main__ - INFO - Hybrid Service: Success
2025-03-08 21:13:14,131 - __main__ - INFO - API Endpoint: Success
2025-03-08 21:13:14,131 - __main__ - INFO - 
Barcode: 5449000000996
2025-03-08 21:13:14,131 - __main__ - INFO - FatSecret: Failed
2025-03-08 21:13:14,132 - __main__ - INFO - OpenFoodFacts: Success
2025-03-08 21:13:14,132 - __main__ - INFO - Hybrid Service: Success
2025-03-08 21:13:14,132 - __main__ - INFO - API Endpoint: Success
2025-03-08 21:13:14,132 - __main__ - INFO - 
Barcode: 8000500033784
2025-03-08 21:13:14,132 - __main__ - INFO - FatSecret: Failed
2025-03-08 21:13:14,132 - __main__ - INFO - OpenFoodFacts: Failed
2025-03-08 21:13:14,132 - __main__ - INFO - Hybrid Service: Failed
2025-03-08 21:13:14,133 - __main__ - INFO - API Endpoint: Failed
2025-03-08 21:13:14,133 - __main__ - INFO - 
Barcode: 8001120000035
2025-03-08 21:13:14,133 - __main__ - INFO - FatSecret: Failed
2025-03-08 21:13:14,133 - __main__ - INFO - OpenFoodFacts: Failed
2025-03-08 21:13:14,133 - __main__ - INFO - Hybrid Service: Failed
2025-03-08 21:13:14,133 - __main__ - INFO - API Endpoint: Failed
2025-03-08 21:13:14,133 - __main__ - INFO - 
Barcode: 1234567890123
2025-03-08 21:13:14,133 - __main__ - INFO - FatSecret: Failed
2025-03-08 21:13:14,133 - __main__ - INFO - OpenFoodFacts: Success
2025-03-08 21:13:14,134 - __main__ - INFO - Hybrid Service: Success
2025-03-08 21:13:14,134 - __main__ - INFO - API Endpoint: Success
2025-03-08 21:13:14,134 - __main__ - INFO - 
Test completed!
2025-03-08 21:14:10,377 - __main__ - INFO - Starting detailed barcode search tests...

2025-03-08 21:14:10,378 - __main__ - INFO - 
===== Testing barcode: 8001505005707 =====
2025-03-08 21:14:10,632 - services.fatsecret_oauth2_service - WARNING - Credenziali FatSecret non trovate nelle variabili d'ambiente. Usando valori di default per debug.
2025-03-08 21:14:10,632 - __main__ - INFO - 
Testing FatSecret barcode: 8001505005707
2025-03-08 21:14:11,115 - services.fatsecret_oauth2_service - INFO - Parametri di ricerca barcode: {'method': 'food.find_id_for_barcode', 'barcode': '8001505005707', 'region': 'Italy', 'format': 'json'}
2025-03-08 21:14:11,674 - services.fatsecret_oauth2_service - INFO - Risposta API barcode - Status: 200
2025-03-08 21:14:11,675 - __main__ - ERROR - Exception in FatSecret test: object dict can't be used in 'await' expression
2025-03-08 21:14:11,677 - __main__ - INFO - 
Testing OpenFoodFacts barcode: 8001505005707
2025-03-08 21:14:11,677 - openfoodfacts_service - INFO - Inizializzato OpenFoodFactsService con base URL: https://world.openfoodfacts.org
2025-03-08 21:14:11,677 - openfoodfacts_service - INFO - OpenFoodFacts: Ricerca per codice a barre: 8001505005707
2025-03-08 21:14:11,929 - openfoodfacts_service - INFO - OpenFoodFacts: Prodotto trovato per codice a barre: 8001505005707
2025-03-08 21:14:11,929 - __main__ - INFO - Time: 0.25 seconds
2025-03-08 21:14:11,930 - __main__ - INFO - Found food: Nocciolata
2025-03-08 21:14:11,936 - __main__ - INFO - 
Testing Hybrid barcode: 8001505005707
2025-03-08 21:14:11,936 - root - INFO - Ricerca alimento con codice a barre: 8001505005707
2025-03-08 21:14:11,937 - root - INFO - Risultati trovati in cache per codice a barre 8001505005707
2025-03-08 21:14:11,937 - __main__ - INFO - Time: 0.00 seconds
2025-03-08 21:14:11,937 - __main__ - INFO - Source: openfoodfacts
2025-03-08 21:14:11,937 - __main__ - INFO - Success: True
2025-03-08 21:14:11,937 - __main__ - INFO - Total results: 1
2025-03-08 21:14:11,937 - __main__ - INFO - Food name: Nocciolata
2025-03-08 21:14:11,937 - __main__ - INFO - Brand: Rigoni di Asiago
2025-03-08 21:14:11,938 - __main__ - INFO - 
Testing API endpoint for barcode: 8001505005707
2025-03-08 21:14:12,202 - __main__ - INFO - Status: 200
2025-03-08 21:14:12,202 - __main__ - INFO - Time: 0.26 seconds
2025-03-08 21:14:12,202 - __main__ - INFO - Source: openfoodfacts
2025-03-08 21:14:12,203 - __main__ - INFO - Success: True
2025-03-08 21:14:12,203 - __main__ - INFO - Total results: 1
2025-03-08 21:14:12,203 - __main__ - INFO - Food name: Nocciolata
2025-03-08 21:14:12,203 - __main__ - INFO - Brand: Rigoni di Asiago
2025-03-08 21:14:13,204 - __main__ - INFO - 
===== Testing barcode: 8076809513692 =====
2025-03-08 21:14:13,204 - __main__ - INFO - 
Testing FatSecret barcode: 8076809513692
2025-03-08 21:14:13,204 - services.fatsecret_oauth2_service - INFO - Parametri di ricerca barcode: {'method': 'food.find_id_for_barcode', 'barcode': '8076809513692', 'region': 'Italy', 'format': 'json'}
2025-03-08 21:14:13,726 - services.fatsecret_oauth2_service - INFO - Risposta API barcode - Status: 200
2025-03-08 21:14:13,729 - __main__ - ERROR - Exception in FatSecret test: object dict can't be used in 'await' expression
2025-03-08 21:14:13,731 - __main__ - INFO - 
Testing OpenFoodFacts barcode: 8076809513692
2025-03-08 21:14:13,732 - openfoodfacts_service - INFO - Inizializzato OpenFoodFactsService con base URL: https://world.openfoodfacts.org
2025-03-08 21:14:13,733 - openfoodfacts_service - INFO - OpenFoodFacts: Ricerca per codice a barre: 8076809513692
2025-03-08 21:14:13,918 - openfoodfacts_service - INFO - OpenFoodFacts: Prodotto trovato per codice a barre: 8076809513692
2025-03-08 21:14:13,919 - __main__ - INFO - Time: 0.19 seconds
2025-03-08 21:14:13,919 - __main__ - INFO - Found food: Sauce napolitaine
2025-03-08 21:14:13,919 - __main__ - INFO - 
Testing Hybrid barcode: 8076809513692
2025-03-08 21:14:13,919 - root - INFO - Ricerca alimento con codice a barre: 8076809513692
2025-03-08 21:14:13,920 - root - INFO - Risultati trovati in cache per codice a barre 8076809513692
2025-03-08 21:14:13,920 - __main__ - INFO - Time: 0.00 seconds
2025-03-08 21:14:13,920 - __main__ - INFO - Source: openfoodfacts
2025-03-08 21:14:13,920 - __main__ - INFO - Success: True
2025-03-08 21:14:13,920 - __main__ - INFO - Total results: 1
2025-03-08 21:14:13,920 - __main__ - INFO - Food name: Sauce napolitaine
2025-03-08 21:14:13,920 - __main__ - INFO - Brand: Barilla
2025-03-08 21:14:13,921 - __main__ - INFO - 
Testing API endpoint for barcode: 8076809513692
2025-03-08 21:14:14,179 - __main__ - INFO - Status: 200
2025-03-08 21:14:14,179 - __main__ - INFO - Time: 0.26 seconds
2025-03-08 21:14:14,180 - __main__ - INFO - Source: openfoodfacts
2025-03-08 21:14:14,180 - __main__ - INFO - Success: True
2025-03-08 21:14:14,180 - __main__ - INFO - Total results: 1
2025-03-08 21:14:14,180 - __main__ - INFO - Food name: Sauce napolitaine
2025-03-08 21:14:14,180 - __main__ - INFO - Brand: Barilla
2025-03-08 21:14:15,181 - __main__ - INFO - 
===== Testing barcode: 8000500310427 =====
2025-03-08 21:14:15,183 - __main__ - INFO - 
Testing FatSecret barcode: 8000500310427
2025-03-08 21:14:15,184 - services.fatsecret_oauth2_service - INFO - Parametri di ricerca barcode: {'method': 'food.find_id_for_barcode', 'barcode': '8000500310427', 'region': 'Italy', 'format': 'json'}
2025-03-08 21:14:15,722 - services.fatsecret_oauth2_service - INFO - Risposta API barcode - Status: 200
2025-03-08 21:14:15,725 - __main__ - ERROR - Exception in FatSecret test: object dict can't be used in 'await' expression
2025-03-08 21:14:15,726 - __main__ - INFO - 
Testing OpenFoodFacts barcode: 8000500310427
2025-03-08 21:14:15,727 - openfoodfacts_service - INFO - Inizializzato OpenFoodFactsService con base URL: https://world.openfoodfacts.org
2025-03-08 21:14:15,728 - openfoodfacts_service - INFO - OpenFoodFacts: Ricerca per codice a barre: 8000500310427
2025-03-08 21:14:15,920 - openfoodfacts_service - INFO - OpenFoodFacts: Prodotto trovato per codice a barre: 8000500310427
2025-03-08 21:14:15,920 - __main__ - INFO - Time: 0.19 seconds
2025-03-08 21:14:15,921 - __main__ - INFO - Found food: Biscuits croquants au coeur onctueux de Nutella®
2025-03-08 21:14:15,921 - __main__ - INFO - 
Testing Hybrid barcode: 8000500310427
2025-03-08 21:14:15,921 - root - INFO - Ricerca alimento con codice a barre: 8000500310427
2025-03-08 21:14:15,922 - root - INFO - Risultati trovati in cache per codice a barre 8000500310427
2025-03-08 21:14:15,922 - __main__ - INFO - Time: 0.00 seconds
2025-03-08 21:14:15,922 - __main__ - INFO - Source: openfoodfacts
2025-03-08 21:14:15,922 - __main__ - INFO - Success: True
2025-03-08 21:14:15,922 - __main__ - INFO - Total results: 1
2025-03-08 21:14:15,922 - __main__ - INFO - Food name: Biscuits croquants au coeur onctueux de Nutella®
2025-03-08 21:14:15,922 - __main__ - INFO - Brand: Nutella,Ferrero
2025-03-08 21:14:15,923 - __main__ - INFO - 
Testing API endpoint for barcode: 8000500310427
2025-03-08 21:14:16,178 - __main__ - INFO - Status: 200
2025-03-08 21:14:16,178 - __main__ - INFO - Time: 0.25 seconds
2025-03-08 21:14:16,178 - __main__ - INFO - Source: openfoodfacts
2025-03-08 21:14:16,178 - __main__ - INFO - Success: True
2025-03-08 21:14:16,178 - __main__ - INFO - Total results: 1
2025-03-08 21:14:16,179 - __main__ - INFO - Food name: Biscuits croquants au coeur onctueux de Nutella®
2025-03-08 21:14:16,179 - __main__ - INFO - Brand: Nutella,Ferrero
2025-03-08 21:14:17,180 - __main__ - INFO - 
===== Testing barcode: 5449000000996 =====
2025-03-08 21:14:17,182 - __main__ - INFO - 
Testing FatSecret barcode: 5449000000996
2025-03-08 21:14:17,184 - services.fatsecret_oauth2_service - INFO - Parametri di ricerca barcode: {'method': 'food.find_id_for_barcode', 'barcode': '5449000000996', 'region': 'Italy', 'format': 'json'}
2025-03-08 21:14:17,833 - services.fatsecret_oauth2_service - INFO - Risposta API barcode - Status: 200
2025-03-08 21:14:17,836 - __main__ - ERROR - Exception in FatSecret test: object dict can't be used in 'await' expression
2025-03-08 21:14:17,836 - __main__ - INFO - 
Testing OpenFoodFacts barcode: 5449000000996
2025-03-08 21:14:17,837 - openfoodfacts_service - INFO - Inizializzato OpenFoodFactsService con base URL: https://world.openfoodfacts.org
2025-03-08 21:14:17,838 - openfoodfacts_service - INFO - OpenFoodFacts: Ricerca per codice a barre: 5449000000996
2025-03-08 21:14:18,065 - openfoodfacts_service - INFO - OpenFoodFacts: Prodotto trovato per codice a barre: 5449000000996
2025-03-08 21:14:18,065 - __main__ - INFO - Time: 0.23 seconds
2025-03-08 21:14:18,066 - __main__ - INFO - Found food: Coca-Cola 33cl
2025-03-08 21:14:18,066 - __main__ - INFO - 
Testing Hybrid barcode: 5449000000996
2025-03-08 21:14:18,066 - root - INFO - Ricerca alimento con codice a barre: 5449000000996
2025-03-08 21:14:18,066 - root - INFO - Risultati trovati in cache per codice a barre 5449000000996
2025-03-08 21:14:18,067 - __main__ - INFO - Time: 0.00 seconds
2025-03-08 21:14:18,067 - __main__ - INFO - Source: openfoodfacts
2025-03-08 21:14:18,067 - __main__ - INFO - Success: True
2025-03-08 21:14:18,067 - __main__ - INFO - Total results: 1
2025-03-08 21:14:18,067 - __main__ - INFO - Food name: Coca-Cola 33cl
2025-03-08 21:14:18,067 - __main__ - INFO - Brand: Coca-Cola
2025-03-08 21:14:18,067 - __main__ - INFO - 
Testing API endpoint for barcode: 5449000000996
2025-03-08 21:14:18,332 - __main__ - INFO - Status: 200
2025-03-08 21:14:18,332 - __main__ - INFO - Time: 0.26 seconds
2025-03-08 21:14:18,333 - __main__ - INFO - Source: openfoodfacts
2025-03-08 21:14:18,333 - __main__ - INFO - Success: True
2025-03-08 21:14:18,333 - __main__ - INFO - Total results: 1
2025-03-08 21:14:18,333 - __main__ - INFO - Food name: Coca-Cola 33cl
2025-03-08 21:14:18,333 - __main__ - INFO - Brand: Coca-Cola
2025-03-08 21:14:19,334 - __main__ - INFO - 
===== Testing barcode: 8000500033784 =====
2025-03-08 21:14:19,334 - __main__ - INFO - 
Testing FatSecret barcode: 8000500033784
2025-03-08 21:14:19,335 - services.fatsecret_oauth2_service - INFO - Parametri di ricerca barcode: {'method': 'food.find_id_for_barcode', 'barcode': '8000500033784', 'region': 'Italy', 'format': 'json'}
2025-03-08 21:14:19,785 - services.fatsecret_oauth2_service - INFO - Risposta API barcode - Status: 200
2025-03-08 21:14:19,786 - __main__ - ERROR - Exception in FatSecret test: object dict can't be used in 'await' expression
2025-03-08 21:14:19,786 - __main__ - INFO - 
Testing OpenFoodFacts barcode: 8000500033784
2025-03-08 21:14:19,787 - openfoodfacts_service - INFO - Inizializzato OpenFoodFactsService con base URL: https://world.openfoodfacts.org
2025-03-08 21:14:19,787 - openfoodfacts_service - INFO - OpenFoodFacts: Ricerca per codice a barre: 8000500033784
2025-03-08 21:14:19,907 - openfoodfacts_service - ERROR - OpenFoodFacts: Prodotto non trovato per codice a barre: 8000500033784
2025-03-08 21:14:19,907 - __main__ - INFO - Time: 0.12 seconds
2025-03-08 21:14:19,908 - __main__ - INFO - No food found
2025-03-08 21:14:19,908 - __main__ - INFO - 
Testing Hybrid barcode: 8000500033784
2025-03-08 21:14:19,908 - root - INFO - Ricerca alimento con codice a barre: 8000500033784
2025-03-08 21:14:19,908 - services.fatsecret_oauth2_service - INFO - Parametri di ricerca barcode: {'method': 'food.find_id_for_barcode', 'barcode': '8000500033784', 'region': 'Italy', 'format': 'json'}
2025-03-08 21:14:20,362 - services.fatsecret_oauth2_service - INFO - Risposta API barcode - Status: 200
2025-03-08 21:14:20,365 - root - ERROR - Errore nella ricerca dell'ID per codice a barre: object dict can't be used in 'await' expression
2025-03-08 21:14:20,366 - root - INFO - Nessun risultato trovato su FatSecret, provo con OpenFoodFacts per il codice a barre 8000500033784
2025-03-08 21:14:20,367 - openfoodfacts_service - INFO - Inizializzato OpenFoodFactsService con base URL: https://world.openfoodfacts.org
2025-03-08 21:14:20,367 - openfoodfacts_service - INFO - OpenFoodFacts: Ricerca per codice a barre: 8000500033784
2025-03-08 21:14:20,468 - openfoodfacts_service - ERROR - OpenFoodFacts: Prodotto non trovato per codice a barre: 8000500033784
2025-03-08 21:14:20,470 - root - INFO - Nessun risultato trovato per il codice a barre 8000500033784 su nessun servizio
2025-03-08 21:14:20,471 - __main__ - INFO - Time: 0.56 seconds
2025-03-08 21:14:20,472 - __main__ - INFO - Source: unknown
2025-03-08 21:14:20,473 - __main__ - INFO - Success: False
2025-03-08 21:14:20,474 - __main__ - INFO - Total results: 0
2025-03-08 21:14:20,474 - __main__ - INFO - No food details found
2025-03-08 21:14:20,475 - __main__ - INFO - 
Testing API endpoint for barcode: 8000500033784
2025-03-08 21:14:21,808 - __main__ - INFO - Status: 200
2025-03-08 21:14:21,809 - __main__ - INFO - Time: 1.33 seconds
2025-03-08 21:14:21,809 - __main__ - INFO - Source: unknown
2025-03-08 21:14:21,809 - __main__ - INFO - Success: False
2025-03-08 21:14:21,809 - __main__ - INFO - Total results: 0
2025-03-08 21:14:21,809 - __main__ - INFO - No food details found
2025-03-08 21:14:22,810 - __main__ - INFO - 
===== Testing barcode: 8001120000035 =====
2025-03-08 21:14:22,810 - __main__ - INFO - 
Testing FatSecret barcode: 8001120000035
2025-03-08 21:14:22,811 - services.fatsecret_oauth2_service - INFO - Parametri di ricerca barcode: {'method': 'food.find_id_for_barcode', 'barcode': '8001120000035', 'region': 'Italy', 'format': 'json'}
2025-03-08 21:14:23,258 - services.fatsecret_oauth2_service - INFO - Risposta API barcode - Status: 200
2025-03-08 21:14:23,259 - __main__ - ERROR - Exception in FatSecret test: object dict can't be used in 'await' expression
2025-03-08 21:14:23,260 - __main__ - INFO - 
Testing OpenFoodFacts barcode: 8001120000035
2025-03-08 21:14:23,260 - openfoodfacts_service - INFO - Inizializzato OpenFoodFactsService con base URL: https://world.openfoodfacts.org
2025-03-08 21:14:23,261 - openfoodfacts_service - INFO - OpenFoodFacts: Ricerca per codice a barre: 8001120000035
2025-03-08 21:14:23,374 - openfoodfacts_service - ERROR - OpenFoodFacts: Prodotto non trovato per codice a barre: 8001120000035
2025-03-08 21:14:23,376 - __main__ - INFO - Time: 0.12 seconds
2025-03-08 21:14:23,376 - __main__ - INFO - No food found
2025-03-08 21:14:23,377 - __main__ - INFO - 
Testing Hybrid barcode: 8001120000035
2025-03-08 21:14:23,379 - root - INFO - Ricerca alimento con codice a barre: 8001120000035
2025-03-08 21:14:23,379 - services.fatsecret_oauth2_service - INFO - Parametri di ricerca barcode: {'method': 'food.find_id_for_barcode', 'barcode': '8001120000035', 'region': 'Italy', 'format': 'json'}
2025-03-08 21:14:23,830 - services.fatsecret_oauth2_service - INFO - Risposta API barcode - Status: 200
2025-03-08 21:14:23,832 - root - ERROR - Errore nella ricerca dell'ID per codice a barre: object dict can't be used in 'await' expression
2025-03-08 21:14:23,833 - root - INFO - Nessun risultato trovato su FatSecret, provo con OpenFoodFacts per il codice a barre 8001120000035
2025-03-08 21:14:23,834 - openfoodfacts_service - INFO - Inizializzato OpenFoodFactsService con base URL: https://world.openfoodfacts.org
2025-03-08 21:14:23,835 - openfoodfacts_service - INFO - OpenFoodFacts: Ricerca per codice a barre: 8001120000035
2025-03-08 21:14:23,936 - openfoodfacts_service - ERROR - OpenFoodFacts: Prodotto non trovato per codice a barre: 8001120000035
2025-03-08 21:14:23,939 - root - INFO - Nessun risultato trovato per il codice a barre 8001120000035 su nessun servizio
2025-03-08 21:14:23,940 - __main__ - INFO - Time: 0.56 seconds
2025-03-08 21:14:23,940 - __main__ - INFO - Source: unknown
2025-03-08 21:14:23,941 - __main__ - INFO - Success: False
2025-03-08 21:14:23,942 - __main__ - INFO - Total results: 0
2025-03-08 21:14:23,942 - __main__ - INFO - No food details found
2025-03-08 21:14:23,944 - __main__ - INFO - 
Testing API endpoint for barcode: 8001120000035
2025-03-08 21:14:24,758 - __main__ - INFO - Status: 200
2025-03-08 21:14:24,759 - __main__ - INFO - Time: 0.81 seconds
2025-03-08 21:14:24,760 - __main__ - INFO - Source: unknown
2025-03-08 21:14:24,761 - __main__ - INFO - Success: False
2025-03-08 21:14:24,761 - __main__ - INFO - Total results: 0
2025-03-08 21:14:24,762 - __main__ - INFO - No food details found
2025-03-08 21:14:25,763 - __main__ - INFO - 
===== Testing barcode: 1234567890123 =====
2025-03-08 21:14:25,765 - __main__ - INFO - 
Testing FatSecret barcode: 1234567890123
2025-03-08 21:14:25,767 - services.fatsecret_oauth2_service - INFO - Parametri di ricerca barcode: {'method': 'food.find_id_for_barcode', 'barcode': '1234567890123', 'region': 'Italy', 'format': 'json'}
2025-03-08 21:14:26,229 - services.fatsecret_oauth2_service - INFO - Risposta API barcode - Status: 200
2025-03-08 21:14:26,232 - __main__ - ERROR - Exception in FatSecret test: object dict can't be used in 'await' expression
2025-03-08 21:14:26,233 - __main__ - INFO - 
Testing OpenFoodFacts barcode: 1234567890123
2025-03-08 21:14:26,234 - openfoodfacts_service - INFO - Inizializzato OpenFoodFactsService con base URL: https://world.openfoodfacts.org
2025-03-08 21:14:26,234 - openfoodfacts_service - INFO - OpenFoodFacts: Ricerca per codice a barre: 1234567890123
2025-03-08 21:14:26,476 - openfoodfacts_service - INFO - OpenFoodFacts: Prodotto trovato per codice a barre: 1234567890123
2025-03-08 21:14:26,477 - __main__ - INFO - Time: 0.24 seconds
2025-03-08 21:14:26,477 - __main__ - INFO - Found food: Test
2025-03-08 21:14:26,478 - __main__ - INFO - 
Testing Hybrid barcode: 1234567890123
2025-03-08 21:14:26,478 - root - INFO - Ricerca alimento con codice a barre: 1234567890123
2025-03-08 21:14:26,478 - root - INFO - Risultati trovati in cache per codice a barre 1234567890123
2025-03-08 21:14:26,479 - __main__ - INFO - Time: 0.00 seconds
2025-03-08 21:14:26,479 - __main__ - INFO - Source: openfoodfacts
2025-03-08 21:14:26,479 - __main__ - INFO - Success: True
2025-03-08 21:14:26,479 - __main__ - INFO - Total results: 1
2025-03-08 21:14:26,479 - __main__ - INFO - Food name: Test
2025-03-08 21:14:26,480 - __main__ - INFO - Brand: Nature Foods
2025-03-08 21:14:26,480 - __main__ - INFO - 
Testing API endpoint for barcode: 1234567890123
2025-03-08 21:14:26,742 - __main__ - INFO - Status: 200
2025-03-08 21:14:26,742 - __main__ - INFO - Time: 0.26 seconds
2025-03-08 21:14:26,743 - __main__ - INFO - Source: openfoodfacts
2025-03-08 21:14:26,743 - __main__ - INFO - Success: True
2025-03-08 21:14:26,743 - __main__ - INFO - Total results: 1
2025-03-08 21:14:26,743 - __main__ - INFO - Food name: Test
2025-03-08 21:14:26,743 - __main__ - INFO - Brand: Nature Foods
2025-03-08 21:14:27,744 - __main__ - INFO - 
===== Test Summary =====
2025-03-08 21:14:27,744 - __main__ - INFO - 
Barcode: 8001505005707
2025-03-08 21:14:27,744 - __main__ - INFO - FatSecret: Failed
2025-03-08 21:14:27,744 - __main__ - INFO - OpenFoodFacts: Success
2025-03-08 21:14:27,744 - __main__ - INFO - Hybrid Service: Success
2025-03-08 21:14:27,745 - __main__ - INFO - API Endpoint: Success
2025-03-08 21:14:27,745 - __main__ - INFO - 
Barcode: 8076809513692
2025-03-08 21:14:27,745 - __main__ - INFO - FatSecret: Failed
2025-03-08 21:14:27,745 - __main__ - INFO - OpenFoodFacts: Success
2025-03-08 21:14:27,745 - __main__ - INFO - Hybrid Service: Success
2025-03-08 21:14:27,745 - __main__ - INFO - API Endpoint: Success
2025-03-08 21:14:27,745 - __main__ - INFO - 
Barcode: 8000500310427
2025-03-08 21:14:27,745 - __main__ - INFO - FatSecret: Failed
2025-03-08 21:14:27,746 - __main__ - INFO - OpenFoodFacts: Success
2025-03-08 21:14:27,746 - __main__ - INFO - Hybrid Service: Success
2025-03-08 21:14:27,746 - __main__ - INFO - API Endpoint: Success
2025-03-08 21:14:27,746 - __main__ - INFO - 
Barcode: 5449000000996
2025-03-08 21:14:27,746 - __main__ - INFO - FatSecret: Failed
2025-03-08 21:14:27,746 - __main__ - INFO - OpenFoodFacts: Success
2025-03-08 21:14:27,746 - __main__ - INFO - Hybrid Service: Success
2025-03-08 21:14:27,746 - __main__ - INFO - API Endpoint: Success
2025-03-08 21:14:27,746 - __main__ - INFO - 
Barcode: 8000500033784
2025-03-08 21:14:27,746 - __main__ - INFO - FatSecret: Failed
2025-03-08 21:14:27,747 - __main__ - INFO - OpenFoodFacts: Failed
2025-03-08 21:14:27,747 - __main__ - INFO - Hybrid Service: Failed
2025-03-08 21:14:27,747 - __main__ - INFO - API Endpoint: Failed
2025-03-08 21:14:27,747 - __main__ - INFO - 
Barcode: 8001120000035
2025-03-08 21:14:27,747 - __main__ - INFO - FatSecret: Failed
2025-03-08 21:14:27,747 - __main__ - INFO - OpenFoodFacts: Failed
2025-03-08 21:14:27,747 - __main__ - INFO - Hybrid Service: Failed
2025-03-08 21:14:27,747 - __main__ - INFO - API Endpoint: Failed
2025-03-08 21:14:27,748 - __main__ - INFO - 
Barcode: 1234567890123
2025-03-08 21:14:27,748 - __main__ - INFO - FatSecret: Failed
2025-03-08 21:14:27,748 - __main__ - INFO - OpenFoodFacts: Success
2025-03-08 21:14:27,748 - __main__ - INFO - Hybrid Service: Success
2025-03-08 21:14:27,748 - __main__ - INFO - API Endpoint: Success
2025-03-08 21:14:27,748 - __main__ - INFO - 
Test completed!
2025-03-08 21:15:13,707 - __main__ - INFO - Starting detailed barcode search tests...

2025-03-08 21:15:13,708 - __main__ - INFO - 
===== Testing barcode: 8001505005707 =====
2025-03-08 21:15:13,983 - services.fatsecret_oauth2_service - WARNING - Credenziali FatSecret non trovate nelle variabili d'ambiente. Usando valori di default per debug.
2025-03-08 21:15:13,984 - __main__ - INFO - 
Testing FatSecret barcode: 8001505005707
2025-03-08 21:15:14,491 - services.fatsecret_oauth2_service - INFO - Parametri di ricerca barcode: {'method': 'food.find_id_for_barcode', 'barcode': '8001505005707', 'region': 'Italy', 'format': 'json'}
2025-03-08 21:15:15,237 - services.fatsecret_oauth2_service - INFO - Risposta API barcode - Status: 200
2025-03-08 21:15:15,238 - __main__ - INFO - Time: 1.25 seconds
2025-03-08 21:15:15,238 - __main__ - INFO - Found food_id: {'value': '12072894'}
2025-03-08 21:15:15,239 - __main__ - INFO - 
Testing OpenFoodFacts barcode: 8001505005707
2025-03-08 21:15:15,239 - openfoodfacts_service - INFO - Inizializzato OpenFoodFactsService con base URL: https://world.openfoodfacts.org
2025-03-08 21:15:15,239 - openfoodfacts_service - INFO - OpenFoodFacts: Ricerca per codice a barre: 8001505005707
2025-03-08 21:15:15,485 - openfoodfacts_service - INFO - OpenFoodFacts: Prodotto trovato per codice a barre: 8001505005707
2025-03-08 21:15:15,486 - __main__ - INFO - Time: 0.25 seconds
2025-03-08 21:15:15,486 - __main__ - INFO - Found food: Nocciolata
2025-03-08 21:15:15,493 - __main__ - INFO - 
Testing Hybrid barcode: 8001505005707
2025-03-08 21:15:15,494 - root - INFO - Ricerca alimento con codice a barre: 8001505005707
2025-03-08 21:15:15,494 - root - INFO - Risultati trovati in cache per codice a barre 8001505005707
2025-03-08 21:15:15,494 - __main__ - INFO - Time: 0.00 seconds
2025-03-08 21:15:15,494 - __main__ - INFO - Source: openfoodfacts
2025-03-08 21:15:15,494 - __main__ - INFO - Success: True
2025-03-08 21:15:15,495 - __main__ - INFO - Total results: 1
2025-03-08 21:15:15,495 - __main__ - INFO - Food name: Nocciolata
2025-03-08 21:15:15,495 - __main__ - INFO - Brand: Rigoni di Asiago
2025-03-08 21:15:15,495 - __main__ - INFO - 
Testing API endpoint for barcode: 8001505005707
2025-03-08 21:15:15,765 - __main__ - INFO - Status: 200
2025-03-08 21:15:15,765 - __main__ - INFO - Time: 0.27 seconds
2025-03-08 21:15:15,765 - __main__ - INFO - Source: openfoodfacts
2025-03-08 21:15:15,766 - __main__ - INFO - Success: True
2025-03-08 21:15:15,766 - __main__ - INFO - Total results: 1
2025-03-08 21:15:15,766 - __main__ - INFO - Food name: Nocciolata
2025-03-08 21:15:15,766 - __main__ - INFO - Brand: Rigoni di Asiago
2025-03-08 21:15:16,767 - __main__ - INFO - 
===== Testing barcode: 8076809513692 =====
2025-03-08 21:15:16,769 - __main__ - INFO - 
Testing FatSecret barcode: 8076809513692
2025-03-08 21:15:16,771 - services.fatsecret_oauth2_service - INFO - Parametri di ricerca barcode: {'method': 'food.find_id_for_barcode', 'barcode': '8076809513692', 'region': 'Italy', 'format': 'json'}
2025-03-08 21:15:17,315 - services.fatsecret_oauth2_service - INFO - Risposta API barcode - Status: 200
2025-03-08 21:15:17,319 - __main__ - INFO - Time: 0.55 seconds
2025-03-08 21:15:17,320 - __main__ - INFO - Found food_id: {'value': '0'}
2025-03-08 21:15:17,321 - __main__ - INFO - 
Testing OpenFoodFacts barcode: 8076809513692
2025-03-08 21:15:17,322 - openfoodfacts_service - INFO - Inizializzato OpenFoodFactsService con base URL: https://world.openfoodfacts.org
2025-03-08 21:15:17,323 - openfoodfacts_service - INFO - OpenFoodFacts: Ricerca per codice a barre: 8076809513692
2025-03-08 21:15:17,530 - openfoodfacts_service - INFO - OpenFoodFacts: Prodotto trovato per codice a barre: 8076809513692
2025-03-08 21:15:17,531 - __main__ - INFO - Time: 0.21 seconds
2025-03-08 21:15:17,531 - __main__ - INFO - Found food: Sauce napolitaine
2025-03-08 21:15:17,531 - __main__ - INFO - 
Testing Hybrid barcode: 8076809513692
2025-03-08 21:15:17,532 - root - INFO - Ricerca alimento con codice a barre: 8076809513692
2025-03-08 21:15:17,532 - root - INFO - Risultati trovati in cache per codice a barre 8076809513692
2025-03-08 21:15:17,532 - __main__ - INFO - Time: 0.00 seconds
2025-03-08 21:15:17,532 - __main__ - INFO - Source: openfoodfacts
2025-03-08 21:15:17,532 - __main__ - INFO - Success: True
2025-03-08 21:15:17,532 - __main__ - INFO - Total results: 1
2025-03-08 21:15:17,532 - __main__ - INFO - Food name: Sauce napolitaine
2025-03-08 21:15:17,532 - __main__ - INFO - Brand: Barilla
2025-03-08 21:15:17,533 - __main__ - INFO - 
Testing API endpoint for barcode: 8076809513692
2025-03-08 21:15:17,803 - __main__ - INFO - Status: 200
2025-03-08 21:15:17,803 - __main__ - INFO - Time: 0.27 seconds
2025-03-08 21:15:17,803 - __main__ - INFO - Source: openfoodfacts
2025-03-08 21:15:17,804 - __main__ - INFO - Success: True
2025-03-08 21:15:17,804 - __main__ - INFO - Total results: 1
2025-03-08 21:15:17,804 - __main__ - INFO - Food name: Sauce napolitaine
2025-03-08 21:15:17,805 - __main__ - INFO - Brand: Barilla
2025-03-08 21:15:18,806 - __main__ - INFO - 
===== Testing barcode: 8000500310427 =====
2025-03-08 21:15:18,808 - __main__ - INFO - 
Testing FatSecret barcode: 8000500310427
2025-03-08 21:15:18,809 - services.fatsecret_oauth2_service - INFO - Parametri di ricerca barcode: {'method': 'food.find_id_for_barcode', 'barcode': '8000500310427', 'region': 'Italy', 'format': 'json'}
2025-03-08 21:15:19,304 - services.fatsecret_oauth2_service - INFO - Risposta API barcode - Status: 200
2025-03-08 21:15:19,307 - __main__ - INFO - Time: 0.50 seconds
2025-03-08 21:15:19,308 - __main__ - INFO - Found food_id: {'value': '66929165'}
2025-03-08 21:15:19,309 - __main__ - INFO - 
Testing OpenFoodFacts barcode: 8000500310427
2025-03-08 21:15:19,310 - openfoodfacts_service - INFO - Inizializzato OpenFoodFactsService con base URL: https://world.openfoodfacts.org
2025-03-08 21:15:19,311 - openfoodfacts_service - INFO - OpenFoodFacts: Ricerca per codice a barre: 8000500310427
2025-03-08 21:15:19,597 - openfoodfacts_service - INFO - OpenFoodFacts: Prodotto trovato per codice a barre: 8000500310427
2025-03-08 21:15:19,599 - __main__ - INFO - Time: 0.29 seconds
2025-03-08 21:15:19,599 - __main__ - INFO - Found food: Biscuits croquants au coeur onctueux de Nutella®
2025-03-08 21:15:19,600 - __main__ - INFO - 
Testing Hybrid barcode: 8000500310427
2025-03-08 21:15:19,600 - root - INFO - Ricerca alimento con codice a barre: 8000500310427
2025-03-08 21:15:19,601 - root - INFO - Risultati trovati in cache per codice a barre 8000500310427
2025-03-08 21:15:19,601 - __main__ - INFO - Time: 0.00 seconds
2025-03-08 21:15:19,602 - __main__ - INFO - Source: openfoodfacts
2025-03-08 21:15:19,602 - __main__ - INFO - Success: True
2025-03-08 21:15:19,602 - __main__ - INFO - Total results: 1
2025-03-08 21:15:19,602 - __main__ - INFO - Food name: Biscuits croquants au coeur onctueux de Nutella®
2025-03-08 21:15:19,602 - __main__ - INFO - Brand: Nutella,Ferrero
2025-03-08 21:15:19,603 - __main__ - INFO - 
Testing API endpoint for barcode: 8000500310427
2025-03-08 21:15:19,868 - __main__ - INFO - Status: 200
2025-03-08 21:15:19,869 - __main__ - INFO - Time: 0.27 seconds
2025-03-08 21:15:19,869 - __main__ - INFO - Source: openfoodfacts
2025-03-08 21:15:19,869 - __main__ - INFO - Success: True
2025-03-08 21:15:19,869 - __main__ - INFO - Total results: 1
2025-03-08 21:15:19,869 - __main__ - INFO - Food name: Biscuits croquants au coeur onctueux de Nutella®
2025-03-08 21:15:19,869 - __main__ - INFO - Brand: Nutella,Ferrero
2025-03-08 21:15:20,870 - __main__ - INFO - 
===== Testing barcode: 5449000000996 =====
2025-03-08 21:15:20,871 - __main__ - INFO - 
Testing FatSecret barcode: 5449000000996
2025-03-08 21:15:20,871 - services.fatsecret_oauth2_service - INFO - Parametri di ricerca barcode: {'method': 'food.find_id_for_barcode', 'barcode': '5449000000996', 'region': 'Italy', 'format': 'json'}
2025-03-08 21:15:21,349 - services.fatsecret_oauth2_service - INFO - Risposta API barcode - Status: 200
2025-03-08 21:15:21,351 - __main__ - INFO - Time: 0.48 seconds
2025-03-08 21:15:21,352 - __main__ - INFO - Found food_id: {'value': '8421643'}
2025-03-08 21:15:21,353 - __main__ - INFO - 
Testing OpenFoodFacts barcode: 5449000000996
2025-03-08 21:15:21,354 - openfoodfacts_service - INFO - Inizializzato OpenFoodFactsService con base URL: https://world.openfoodfacts.org
2025-03-08 21:15:21,354 - openfoodfacts_service - INFO - OpenFoodFacts: Ricerca per codice a barre: 5449000000996
2025-03-08 21:15:21,647 - openfoodfacts_service - INFO - OpenFoodFacts: Prodotto trovato per codice a barre: 5449000000996
2025-03-08 21:15:21,648 - __main__ - INFO - Time: 0.29 seconds
2025-03-08 21:15:21,648 - __main__ - INFO - Found food: Coca-Cola 33cl
2025-03-08 21:15:21,648 - __main__ - INFO - 
Testing Hybrid barcode: 5449000000996
2025-03-08 21:15:21,649 - root - INFO - Ricerca alimento con codice a barre: 5449000000996
2025-03-08 21:15:21,649 - root - INFO - Risultati trovati in cache per codice a barre 5449000000996
2025-03-08 21:15:21,649 - __main__ - INFO - Time: 0.00 seconds
2025-03-08 21:15:21,649 - __main__ - INFO - Source: openfoodfacts
2025-03-08 21:15:21,650 - __main__ - INFO - Success: True
2025-03-08 21:15:21,650 - __main__ - INFO - Total results: 1
2025-03-08 21:15:21,650 - __main__ - INFO - Food name: Coca-Cola 33cl
2025-03-08 21:15:21,650 - __main__ - INFO - Brand: Coca-Cola
2025-03-08 21:15:21,650 - __main__ - INFO - 
Testing API endpoint for barcode: 5449000000996
2025-03-08 21:15:21,908 - __main__ - INFO - Status: 200
2025-03-08 21:15:21,908 - __main__ - INFO - Time: 0.26 seconds
2025-03-08 21:15:21,909 - __main__ - INFO - Source: openfoodfacts
2025-03-08 21:15:21,909 - __main__ - INFO - Success: True
2025-03-08 21:15:21,909 - __main__ - INFO - Total results: 1
2025-03-08 21:15:21,909 - __main__ - INFO - Food name: Coca-Cola 33cl
2025-03-08 21:15:21,910 - __main__ - INFO - Brand: Coca-Cola
2025-03-08 21:15:22,910 - __main__ - INFO - 
===== Testing barcode: 8000500033784 =====
2025-03-08 21:15:22,910 - __main__ - INFO - 
Testing FatSecret barcode: 8000500033784
2025-03-08 21:15:22,911 - services.fatsecret_oauth2_service - INFO - Parametri di ricerca barcode: {'method': 'food.find_id_for_barcode', 'barcode': '8000500033784', 'region': 'Italy', 'format': 'json'}
2025-03-08 21:15:23,382 - services.fatsecret_oauth2_service - INFO - Risposta API barcode - Status: 200
2025-03-08 21:15:23,384 - __main__ - INFO - Time: 0.47 seconds
2025-03-08 21:15:23,385 - __main__ - INFO - Found food_id: {'value': '0'}
2025-03-08 21:15:23,385 - __main__ - INFO - 
Testing OpenFoodFacts barcode: 8000500033784
2025-03-08 21:15:23,386 - openfoodfacts_service - INFO - Inizializzato OpenFoodFactsService con base URL: https://world.openfoodfacts.org
2025-03-08 21:15:23,386 - openfoodfacts_service - INFO - OpenFoodFacts: Ricerca per codice a barre: 8000500033784
2025-03-08 21:15:23,499 - openfoodfacts_service - ERROR - OpenFoodFacts: Prodotto non trovato per codice a barre: 8000500033784
2025-03-08 21:15:23,500 - __main__ - INFO - Time: 0.11 seconds
2025-03-08 21:15:23,500 - __main__ - INFO - No food found
2025-03-08 21:15:23,501 - __main__ - INFO - 
Testing Hybrid barcode: 8000500033784
2025-03-08 21:15:23,501 - root - INFO - Ricerca alimento con codice a barre: 8000500033784
2025-03-08 21:15:23,502 - services.fatsecret_oauth2_service - INFO - Parametri di ricerca barcode: {'method': 'food.find_id_for_barcode', 'barcode': '8000500033784', 'region': 'Italy', 'format': 'json'}
2025-03-08 21:15:23,970 - services.fatsecret_oauth2_service - INFO - Risposta API barcode - Status: 200
2025-03-08 21:15:23,972 - root - ERROR - Errore nella ricerca dell'ID per codice a barre: object dict can't be used in 'await' expression
2025-03-08 21:15:23,972 - root - INFO - Nessun risultato trovato su FatSecret, provo con OpenFoodFacts per il codice a barre 8000500033784
2025-03-08 21:15:23,973 - openfoodfacts_service - INFO - Inizializzato OpenFoodFactsService con base URL: https://world.openfoodfacts.org
2025-03-08 21:15:23,974 - openfoodfacts_service - INFO - OpenFoodFacts: Ricerca per codice a barre: 8000500033784
2025-03-08 21:15:24,100 - openfoodfacts_service - ERROR - OpenFoodFacts: Prodotto non trovato per codice a barre: 8000500033784
2025-03-08 21:15:24,103 - root - INFO - Nessun risultato trovato per il codice a barre 8000500033784 su nessun servizio
2025-03-08 21:15:24,103 - __main__ - INFO - Time: 0.60 seconds
2025-03-08 21:15:24,104 - __main__ - INFO - Source: unknown
2025-03-08 21:15:24,104 - __main__ - INFO - Success: False
2025-03-08 21:15:24,104 - __main__ - INFO - Total results: 0
2025-03-08 21:15:24,104 - __main__ - INFO - No food details found
2025-03-08 21:15:24,104 - __main__ - INFO - 
Testing API endpoint for barcode: 8000500033784
2025-03-08 21:15:25,450 - __main__ - INFO - Status: 200
2025-03-08 21:15:25,451 - __main__ - INFO - Time: 1.35 seconds
2025-03-08 21:15:25,451 - __main__ - INFO - Source: unknown
2025-03-08 21:15:25,452 - __main__ - INFO - Success: False
2025-03-08 21:15:25,452 - __main__ - INFO - Total results: 0
2025-03-08 21:15:25,453 - __main__ - INFO - No food details found
2025-03-08 21:15:26,453 - __main__ - INFO - 
===== Testing barcode: 8001120000035 =====
2025-03-08 21:15:26,454 - __main__ - INFO - 
Testing FatSecret barcode: 8001120000035
2025-03-08 21:15:26,454 - services.fatsecret_oauth2_service - INFO - Parametri di ricerca barcode: {'method': 'food.find_id_for_barcode', 'barcode': '8001120000035', 'region': 'Italy', 'format': 'json'}
2025-03-08 21:15:26,901 - services.fatsecret_oauth2_service - INFO - Risposta API barcode - Status: 200
2025-03-08 21:15:26,903 - __main__ - INFO - Time: 0.45 seconds
2025-03-08 21:15:26,904 - __main__ - INFO - Found food_id: {'value': '0'}
2025-03-08 21:15:26,905 - __main__ - INFO - 
Testing OpenFoodFacts barcode: 8001120000035
2025-03-08 21:15:26,905 - openfoodfacts_service - INFO - Inizializzato OpenFoodFactsService con base URL: https://world.openfoodfacts.org
2025-03-08 21:15:26,906 - openfoodfacts_service - INFO - OpenFoodFacts: Ricerca per codice a barre: 8001120000035
2025-03-08 21:15:27,000 - openfoodfacts_service - ERROR - OpenFoodFacts: Prodotto non trovato per codice a barre: 8001120000035
2025-03-08 21:15:27,002 - __main__ - INFO - Time: 0.10 seconds
2025-03-08 21:15:27,003 - __main__ - INFO - No food found
2025-03-08 21:15:27,004 - __main__ - INFO - 
Testing Hybrid barcode: 8001120000035
2025-03-08 21:15:27,004 - root - INFO - Ricerca alimento con codice a barre: 8001120000035
2025-03-08 21:15:27,005 - services.fatsecret_oauth2_service - INFO - Parametri di ricerca barcode: {'method': 'food.find_id_for_barcode', 'barcode': '8001120000035', 'region': 'Italy', 'format': 'json'}
2025-03-08 21:15:27,459 - services.fatsecret_oauth2_service - INFO - Risposta API barcode - Status: 200
2025-03-08 21:15:27,462 - root - ERROR - Errore nella ricerca dell'ID per codice a barre: object dict can't be used in 'await' expression
2025-03-08 21:15:27,464 - root - INFO - Nessun risultato trovato su FatSecret, provo con OpenFoodFacts per il codice a barre 8001120000035
2025-03-08 21:15:27,465 - openfoodfacts_service - INFO - Inizializzato OpenFoodFactsService con base URL: https://world.openfoodfacts.org
2025-03-08 21:15:27,467 - openfoodfacts_service - INFO - OpenFoodFacts: Ricerca per codice a barre: 8001120000035
2025-03-08 21:15:27,571 - openfoodfacts_service - ERROR - OpenFoodFacts: Prodotto non trovato per codice a barre: 8001120000035
2025-03-08 21:15:27,573 - root - INFO - Nessun risultato trovato per il codice a barre 8001120000035 su nessun servizio
2025-03-08 21:15:27,574 - __main__ - INFO - Time: 0.57 seconds
2025-03-08 21:15:27,574 - __main__ - INFO - Source: unknown
2025-03-08 21:15:27,575 - __main__ - INFO - Success: False
2025-03-08 21:15:27,576 - __main__ - INFO - Total results: 0
2025-03-08 21:15:27,576 - __main__ - INFO - No food details found
2025-03-08 21:15:27,576 - __main__ - INFO - 
Testing API endpoint for barcode: 8001120000035
2025-03-08 21:15:28,415 - __main__ - INFO - Status: 200
2025-03-08 21:15:28,415 - __main__ - INFO - Time: 0.84 seconds
2025-03-08 21:15:28,415 - __main__ - INFO - Source: unknown
2025-03-08 21:15:28,415 - __main__ - INFO - Success: False
2025-03-08 21:15:28,415 - __main__ - INFO - Total results: 0
2025-03-08 21:15:28,416 - __main__ - INFO - No food details found
2025-03-08 21:15:29,416 - __main__ - INFO - 
===== Testing barcode: 1234567890123 =====
2025-03-08 21:15:29,417 - __main__ - INFO - 
Testing FatSecret barcode: 1234567890123
2025-03-08 21:15:29,417 - services.fatsecret_oauth2_service - INFO - Parametri di ricerca barcode: {'method': 'food.find_id_for_barcode', 'barcode': '1234567890123', 'region': 'Italy', 'format': 'json'}
2025-03-08 21:15:29,884 - services.fatsecret_oauth2_service - INFO - Risposta API barcode - Status: 200
2025-03-08 21:15:29,887 - __main__ - INFO - Time: 0.47 seconds
2025-03-08 21:15:29,888 - __main__ - INFO - Found food_id: {'value': '0'}
2025-03-08 21:15:29,888 - __main__ - INFO - 
Testing OpenFoodFacts barcode: 1234567890123
2025-03-08 21:15:29,889 - openfoodfacts_service - INFO - Inizializzato OpenFoodFactsService con base URL: https://world.openfoodfacts.org
2025-03-08 21:15:29,890 - openfoodfacts_service - INFO - OpenFoodFacts: Ricerca per codice a barre: 1234567890123
2025-03-08 21:15:30,133 - openfoodfacts_service - INFO - OpenFoodFacts: Prodotto trovato per codice a barre: 1234567890123
2025-03-08 21:15:30,134 - __main__ - INFO - Time: 0.25 seconds
2025-03-08 21:15:30,135 - __main__ - INFO - Found food: Test
2025-03-08 21:15:30,135 - __main__ - INFO - 
Testing Hybrid barcode: 1234567890123
2025-03-08 21:15:30,135 - root - INFO - Ricerca alimento con codice a barre: 1234567890123
2025-03-08 21:15:30,136 - root - INFO - Risultati trovati in cache per codice a barre 1234567890123
2025-03-08 21:15:30,136 - __main__ - INFO - Time: 0.00 seconds
2025-03-08 21:15:30,136 - __main__ - INFO - Source: openfoodfacts
2025-03-08 21:15:30,137 - __main__ - INFO - Success: True
2025-03-08 21:15:30,137 - __main__ - INFO - Total results: 1
2025-03-08 21:15:30,137 - __main__ - INFO - Food name: Test
2025-03-08 21:15:30,137 - __main__ - INFO - Brand: Nature Foods
2025-03-08 21:15:30,137 - __main__ - INFO - 
Testing API endpoint for barcode: 1234567890123
2025-03-08 21:15:30,400 - __main__ - INFO - Status: 200
2025-03-08 21:15:30,400 - __main__ - INFO - Time: 0.26 seconds
2025-03-08 21:15:30,400 - __main__ - INFO - Source: openfoodfacts
2025-03-08 21:15:30,400 - __main__ - INFO - Success: True
2025-03-08 21:15:30,400 - __main__ - INFO - Total results: 1
2025-03-08 21:15:30,401 - __main__ - INFO - Food name: Test
2025-03-08 21:15:30,401 - __main__ - INFO - Brand: Nature Foods
2025-03-08 21:15:31,401 - __main__ - INFO - 
===== Test Summary =====
2025-03-08 21:15:31,402 - __main__ - INFO - 
Barcode: 8001505005707
2025-03-08 21:15:31,403 - __main__ - INFO - FatSecret: Success
2025-03-08 21:15:31,403 - __main__ - INFO - OpenFoodFacts: Success
2025-03-08 21:15:31,404 - __main__ - INFO - Hybrid Service: Success
2025-03-08 21:15:31,404 - __main__ - INFO - API Endpoint: Success
2025-03-08 21:15:31,404 - __main__ - INFO - 
Barcode: 8076809513692
2025-03-08 21:15:31,405 - __main__ - INFO - FatSecret: Success
2025-03-08 21:15:31,405 - __main__ - INFO - OpenFoodFacts: Success
2025-03-08 21:15:31,405 - __main__ - INFO - Hybrid Service: Success
2025-03-08 21:15:31,405 - __main__ - INFO - API Endpoint: Success
2025-03-08 21:15:31,406 - __main__ - INFO - 
Barcode: 8000500310427
2025-03-08 21:15:31,406 - __main__ - INFO - FatSecret: Success
2025-03-08 21:15:31,406 - __main__ - INFO - OpenFoodFacts: Success
2025-03-08 21:15:31,406 - __main__ - INFO - Hybrid Service: Success
2025-03-08 21:15:31,406 - __main__ - INFO - API Endpoint: Success
2025-03-08 21:15:31,407 - __main__ - INFO - 
Barcode: 5449000000996
2025-03-08 21:15:31,407 - __main__ - INFO - FatSecret: Success
2025-03-08 21:15:31,407 - __main__ - INFO - OpenFoodFacts: Success
2025-03-08 21:15:31,407 - __main__ - INFO - Hybrid Service: Success
2025-03-08 21:15:31,407 - __main__ - INFO - API Endpoint: Success
2025-03-08 21:15:31,408 - __main__ - INFO - 
Barcode: 8000500033784
2025-03-08 21:15:31,408 - __main__ - INFO - FatSecret: Success
2025-03-08 21:15:31,408 - __main__ - INFO - OpenFoodFacts: Failed
2025-03-08 21:15:31,408 - __main__ - INFO - Hybrid Service: Failed
2025-03-08 21:15:31,408 - __main__ - INFO - API Endpoint: Failed
2025-03-08 21:15:31,409 - __main__ - INFO - 
Barcode: 8001120000035
2025-03-08 21:15:31,409 - __main__ - INFO - FatSecret: Success
2025-03-08 21:15:31,409 - __main__ - INFO - OpenFoodFacts: Failed
2025-03-08 21:15:31,409 - __main__ - INFO - Hybrid Service: Failed
2025-03-08 21:15:31,409 - __main__ - INFO - API Endpoint: Failed
2025-03-08 21:15:31,409 - __main__ - INFO - 
Barcode: 1234567890123
2025-03-08 21:15:31,409 - __main__ - INFO - FatSecret: Success
2025-03-08 21:15:31,410 - __main__ - INFO - OpenFoodFacts: Success
2025-03-08 21:15:31,410 - __main__ - INFO - Hybrid Service: Success
2025-03-08 21:15:31,410 - __main__ - INFO - API Endpoint: Success
2025-03-08 21:15:31,410 - __main__ - INFO - 
Test completed!
